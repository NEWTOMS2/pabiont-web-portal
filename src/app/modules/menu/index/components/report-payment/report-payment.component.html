<div class="pabiont-card reportSection row m-0" >
    <form [formGroup]="formInvoice">
        <div class="col-12 py-3" style="text-align: center;">
            <span class="title">Ingrese el número de factura/tracking</span>
        </div>
        <div class="col-12">
            <div class="row m-0">
                <div class="col-12 mb-3">
                    <div class="invoiceInput">
                        <input  type="text" 
                                id="Invoice"
                                [ngClass]="{'ng-dirty ng-invalid': formInvoice.controls['invoice'].touched && formInvoice.controls['invoice'].errors?.required}"
                                pInputText 
                                formControlName="invoice"
                                required autofocus />
                        <small class="p-error" *ngIf="formInvoice.controls['invoice'].touched && formInvoice.controls['invoice'].errors?.required">El factura/tracking es obligatorio.</small>
                    </div>
                    <div class="col-12 py-4 d-flex justify-content-center">
                        <button pButton pRipple  
                            class="p-button reportButton"
                            (click)="search()"
                            [disabled]="!buttonInvoiceEnabled"
                            label="Buscar">
                    </button>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <form [formGroup]="formGroup">    
    <div class="pabiont-card">
        <div class="col-12 mb-4 py-3" style="text-align: center;">
            <span class="title">Información de la factura</span>
        </div>
        <div class="col-12 py-3">
            <span class="title">Datos de cliente</span>
        </div>
        <div class="col-12">
            <div class="row m-0">
                <div class="col-12 col-md-4 mt-2">
                    <label class="inputTitle">
                        Remitente
                    </label>
                    <div>
                        <input  type="text" 
                                id="Code"
                                [ngClass]="{'ng-dirty ng-invalid': formGroup.controls['code'].touched && formGroup.controls['code'].errors?.required}"
                                pInputText 
                                formControlName="code"
                                class="w-100" 
                                required autofocus />
                        <small class="p-error" *ngIf="formGroup.controls['code'].touched && formGroup.controls['code'].errors?.required">El codigo es obligatorio.</small>
                    </div>
                </div>
                <div class="col-12 col-md-8 mt-2">
                    <label class="inputTitle">
                        Titular de la cuenta zelle
                    </label>
                    <div>
                        <input  type="text" 
                                id="AccountHolder"
                                [ngClass]="{'ng-dirty ng-invalid': formGroup.controls['accountHolder'].touched && formGroup.controls['accountHolder'].errors?.required}"
                                pInputText 
                                formControlName="accountHolder"
                                class="w-100"
                                required autofocus />
                        <small class="p-error" *ngIf="formGroup.controls['accountHolder'].touched && formGroup.controls['accountHolder'].errors?.required">El titular de la cuenta es obligatorio.</small>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 py-3">
            <span class="title">Datos de Zelle</span>
        </div>
        <div class="col-12">
            <div class="row m-0">
                <div class="col-12 col-md-4 mt-2 flex flex-wrap p-fluid">
                    <label class="inputTitle">
                        Monto pagado
                    </label>
                    <p-inputNumber  inputId="amountId" 
                                    mode="decimal"
                                    formControlName="amount"
                                    [minFractionDigits]="1" 
                                    [maxFractionDigits]="2"
                                    placeholder="0"
                                    class="w-100"
                                    [ngClass]="{'ng-dirty ng-invalid': (formGroup.controls['amount'].touched && formGroup.controls['amount'].errors?.required) 
                                                    || (formGroup.controls['amount'].value <= 0 && formGroup.controls['amount'].value != null)}">
                    </p-inputNumber>
                    <small class="p-error d-block" *ngIf="(formGroup.controls['amount'].touched && formGroup.controls['amount'].errors?.required) 
                                                    || (formGroup.controls['amount'].value <= 0 && formGroup.controls['amount'].value != null)">
                        El campo no puede ser cero o estar vacío.
                    </small>
                </div>
                <div class="col-12 col-md-8 mt-2">
                    <label class="inputTitle">
                        Factura pagada
                    </label>
                    <div>
                        <input  type="text" 
                                id="InvoiceNumber"
                                [ngClass]="{'ng-dirty ng-invalid': formGroup.controls['invoiceNumber'].touched && formGroup.controls['invoiceNumber'].errors?.required}"
                                pInputText 
                                formControlName="invoiceNumber" 
                                class="w-100"
                                required autofocus />
                        <small class="p-error" *ngIf="formGroup.controls['invoiceNumber'].touched && formGroup.controls['invoiceNumber'].errors?.required">El Número de factura es obligatorio.</small>
                    </div>
                </div>
                <div class="col-12 col-md-6 mt-3">
                    <label class="inputTitle">
                        Referencia del pago
                    </label>
                    <div>
                        <input  type="text" 
                                id="PaymentReference"
                                [ngClass]="{'ng-dirty ng-invalid': formGroup.controls['paymentReference'].touched && formGroup.controls['paymentReference'].errors?.required}"
                                pInputText 
                                formControlName="paymentReference"
                                class="w-100"
                                required autofocus />
                        <small class="p-error" *ngIf="formGroup.controls['paymentReference'].touched && formGroup.controls['paymentReference'].errors?.required">La referencia del pago es obligatorio.</small>
                    </div>
                </div>
                <div class="col-12 col-md-6 mt-3">
                    <label class="d-block inputTitle">
                        Fecha de la transferencia
                    </label>
                    <p-calendar inputId="basic"
                                formControlName="date"
                                [showIcon]="true"
                                dateFormat="yy-mm-dd"
                                appendTo="body"
                                class="w-100"
                                [maxDate]="today"
                                [minDate]="since"
                                placeholder="fecha"
                                [ngClass]="{'ng-dirty ng-invalid': formGroup.controls['date'].touched && formGroup.controls['date'].errors?.required}">
                    </p-calendar>
                </div>
            </div>
        </div>
    </div>
        <div class="col-12 py-4 d-flex justify-content-center">
            <button pButton pRipple  
                class="p-button reportButton"
                (click)="send()"
                [disabled]="!buttonEnabled"
                label="Enviar Reporte">
        </button>
        </div>
     </form>
</div>
