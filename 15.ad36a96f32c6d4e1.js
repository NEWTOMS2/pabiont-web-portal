(self.webpackChunkpabiont_web_portal=self.webpackChunkpabiont_web_portal||[]).push([[15],{9643:(V,J,g)=>{"use strict";g.d(J,{D:()=>m});var _=g(4004),L=g(5e3),A=g(3447),e=g(6456);let m=(()=>{class y{constructor(c,b){this.httpService=c,this.appConfig=b}saveUser(c,b){return b?this.httpService.patch(`${this.appConfig.config.url.saveUser}`,c).pipe((0,_.U)(I=>I.data)):this.httpService.post(`${this.appConfig.config.url.saveUser}`,c).pipe((0,_.U)(I=>I.data))}getUserClient(){return this.httpService.get(`${this.appConfig.config.url.getUserClient}`).pipe((0,_.U)(c=>c.data))}getUserAdmin(){return this.httpService.get(`${this.appConfig.config.url.getUserAdmin}`).pipe((0,_.U)(c=>c.data))}}return y.\u0275fac=function(c){return new(c||y)(L.LFG(A.O),L.LFG(e._))},y.\u0275prov=L.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},7015:(V,J,g)=>{"use strict";g.r(J),g.d(J,{BillingModule:()=>wt});var _=g(9808),L=g(7330),A=g(5861),e=g(5e3),m=g(3075);class y{constructor(p,n,s,u,h,R,H,z,bt,Tt,It,At,Bt,Et,Zt,Mt,Ft){this.description=p,this.date=s,this.due_date=u,this.subtotal=h,this.total=R,this.shipper=H,this.consignee=z,this.agent=bt,this.bill_to=Tt,this.company=It,this.status=At,this.invoice_number=n,this.package_information=Bt,this.payment_type=Et,this.origin=Zt,this.destination=Mt,this.location=Ft}}var x=g(6456),c=g(9643),b=g(8253),I=g(6399),C=g(9783),M=g(3833),v=g(5652),w=g(1424),B=g(4036);function S(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.AsE(" ",n.selectedShipper.first_name," ",n.selectedShipper.last_name," ")}}function D(r,p){if(1&r&&e.YNc(0,S,3,2,"div",24),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedShipper)}}function k(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.AsE(" ",n.first_name," ",n.last_name," "),e.xp6(2),e.hij(" ",n.code," ")}}function Y(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.AsE(" ",n.selectedBillTo.first_name," ",n.selectedBillTo.last_name," ")}}function j(r,p){if(1&r&&e.YNc(0,Y,3,2,"div",24),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedBillTo)}}function P(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.AsE(" ",n.first_name," ",n.last_name," "),e.xp6(2),e.hij(" ",n.code," ")}}function O(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.AsE(" ",n.selectedConsignee.first_name," ",n.selectedConsignee.last_name," ")}}function ne(r,p){if(1&r&&e.YNc(0,O,3,2,"div",24),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedConsignee)}}function oe(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.AsE(" ",n.first_name," ",n.last_name," "),e.xp6(2),e.hij(" ",n.code," ")}}function ue(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.AsE(" ",n.selectedAgent.first_name," ",n.selectedAgent.last_name," ")}}function de(r,p){if(1&r&&e.YNc(0,ue,3,2,"div",24),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedAgent)}}function fe(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.AsE(" ",n.first_name," ",n.last_name," "),e.xp6(2),e.hij(" ",n.code," ")}}function he(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.hij(" ",n.selectedBranch.description," ")}}function me(r,p){if(1&r&&e.YNc(0,he,3,1,"div",24),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedBranch)}}function ge(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.hij(" ",n.code," ")}}function re(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.hij(" ",n.selectedOrigin.description," ")}}function ae(r,p){if(1&r&&e.YNc(0,re,3,1,"div",24),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedOrigin)}}function _e(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.hij(" ",n.code," ")}}function ve(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.hij(" ",n.selectedDestination.description," ")}}function xe(r,p){if(1&r&&e.YNc(0,ve,3,1,"div",24),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedDestination)}}function Ce(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.hij(" ",n.code," ")}}function ye(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.hij(" ",n.selectedLocation.description," ")}}function U(r,p){if(1&r&&e.YNc(0,ye,3,1,"div",24),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedLocation)}}function Q(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",25),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.hij(" ",n.code," ")}}const $=function(r){return{"ng-dirty ng-invalid":r}};let X=(()=>{class r{constructor(n,s,u,h,R,H,z){this.appConfig=n,this.usersManagementService=s,this.invoiceManagementService=u,this.warehouseManagementService=h,this.datepipe=R,this.formBuilder=H,this.messageService=z,this.today=new Date,this.packageRequest=[],this.finalizeStep=new e.vpe,this.isValid=new e.vpe,this.page=this.appConfig.invoiceCreation,this.page=this.page.default,this.resetForm(),this.getClientList(),this.getUserList(),this.getLastInvoice(),this.getWarehouseList()}ngOnInit(){}resetForm(){this.billingsForm=this.formBuilder.group({date:[this.today,[m.kI.required]],invoice:[""],shipper:["",[m.kI.required]],consignee:["",[m.kI.required]],agent:["",[m.kI.required]],bill_to:["",[m.kI.required]],tracking:[""],branch:["",[m.kI.required]],origin_destination:["",[m.kI.required]],final_destination:["",[m.kI.required]],location:["",[m.kI.required]]}),this.billingsForm.controls.invoice.disable(),this.billingsForm.statusChanges.subscribe(n=>{this.isValid.emit(!("VALID"==n))})}getClientList(){var n=this;return(0,A.Z)(function*(){n.clientList=yield n.usersManagementService.getUserClient().toPromise().then(s=>s)})()}getUserList(){var n=this;return(0,A.Z)(function*(){n.userList=yield n.usersManagementService.getUserAdmin().toPromise().then(s=>s)})()}getLastInvoice(){var n=this;return(0,A.Z)(function*(){let s=yield n.invoiceManagementService.getLastInvoice().toPromise().then(h=>h.last_invoice),u=yield n.invoiceManagementService.getPrefix().toPromise().then(h=>h.prefix);s++,n.billingsForm.controls.invoice.setValue(`${u}-${s}-${n.datepipe.transform(n.today,"yy")}`)})()}getWarehouseList(){var n=this;return(0,A.Z)(function*(){n.warehouseList=yield n.warehouseManagementService.getWarehouses().toPromise().then(s=>s),n.warehouseList=n.warehouseList.filter(s=>"Localidad"==s.type)})()}setInvoiceInformation(n){var s=this;return(0,A.Z)(function*(){s.packageList.forEach(u=>{s.packageRequest.push(u.package_information)}),s.billingInformation=new y(n,s.billingsForm.controls.invoice.value,s.datepipe.transform(s.today,"yyyy-MM-dd"),s.datepipe.transform(s.today,"yyyy-MM-dd"),s.totalPayment,s.totalPayment,s.selectedShipper.code,s.selectedConsignee.code,s.selectedAgent.code,s.selectedBillTo.code,1,11,s.packageRequest,"Cash",s.billingsForm.controls.origin_destination.value.id,s.billingsForm.controls.final_destination.value.id,s.billingsForm.controls.final_destination.value.description),yield s.invoiceManagementService.createInvoice(s.billingInformation).subscribe(u=>{s.messageService.addAll([{severity:"success",summary:"Factura y Paquetes creados correctamente.",detail:"",sticky:!0},{severity:"success",summary:"Correo con la factura enviado al remitente correctamente.",detail:"",sticky:!0}])},u=>{s.messageService.add({severity:"error",summary:"Ha ocurrido un error al generar la Factura y los Paquetes.",detail:""}),console.log(u)})})()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(x._),e.Y36(c.D),e.Y36(b.d),e.Y36(I.F),e.Y36(_.uU),e.Y36(m.qu),e.Y36(C.ez))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-billing-information"]],inputs:{packageList:"packageList",totalPayment:"totalPayment"},outputs:{finalizeStep:"finalizeStep",isValid:"isValid"},decls:72,vars:50,consts:[[1,"row","m-0","p-4"],[1,"title"],[1,"pabiont-card"],[3,"headerList","dataList","canCreate"],[1,"row","m-0","text-end","payment"],[1,"col-12","px-5"],[3,"formGroup"],[1,"col-6"],[1,"pabiont-card","row","m-0","p-3"],[1,"subtitle","mb-4"],[1,"col-6","px-3"],["inputId","basic","formControlName","date","dateFormat","dd/mm/yy","appendTo","body","styleClass","w-100","placeholder","fecha",3,"showIcon","disabled","ngClass"],["type","text","pInputText","","formControlName","invoice","required","",1,"w-100",3,"ngClass","disabled"],[1,"col-6","px-3","mt-3"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","shipper","placeholder","Remitente",3,"options","ngModel","filter","showClear","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","bill_to","placeholder","Facturador",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","consignee","placeholder","Destinatario",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","agent","placeholder","Agente",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","branch","placeholder","Sucursal",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","origin_destination","placeholder","Lugar de Origen",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","final_destination","placeholder","Lugar de Destino",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","location","placeholder","Locaci\xf3n",3,"options","ngModel","filter","showClear","ngModelChange"],[4,"ngIf"],[1,"filterSubtitle"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2,"Facturaci\xf3n de Envio"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"app-basic-table",3),e.TgZ(5,"div",4)(6,"div",5)(7,"span")(8,"strong"),e._uU(9,"Costo Total: "),e.qZA(),e._uU(10),e.qZA()()()()(),e.TgZ(11,"form",6)(12,"div",0)(13,"div",7)(14,"div",8)(15,"div",9)(16,"span"),e._uU(17,"Detalle de factura"),e.qZA()(),e.TgZ(18,"div",10)(19,"div"),e._UZ(20,"p-calendar",11),e.qZA()(),e.TgZ(21,"div",10)(22,"div"),e._UZ(23,"input",12),e.qZA()(),e.TgZ(24,"div",13)(25,"div")(26,"p-dropdown",14),e.NdJ("ngModelChange",function(h){return s.selectedShipper=h}),e.YNc(27,D,1,1,"ng-template",15),e.YNc(28,k,5,3,"ng-template",16),e.qZA()()(),e.TgZ(29,"div",13)(30,"div")(31,"p-dropdown",17),e.NdJ("ngModelChange",function(h){return s.selectedBillTo=h}),e.YNc(32,j,1,1,"ng-template",15),e.YNc(33,P,5,3,"ng-template",16),e.qZA()()(),e.TgZ(34,"div",13)(35,"div")(36,"p-dropdown",18),e.NdJ("ngModelChange",function(h){return s.selectedConsignee=h}),e.YNc(37,ne,1,1,"ng-template",15),e.YNc(38,oe,5,3,"ng-template",16),e.qZA()()(),e.TgZ(39,"div",13)(40,"div")(41,"p-dropdown",19),e.NdJ("ngModelChange",function(h){return s.selectedAgent=h}),e.YNc(42,de,1,1,"ng-template",15),e.YNc(43,fe,5,3,"ng-template",16),e.qZA()()()()(),e.TgZ(44,"div",7)(45,"div",8)(46,"div",9)(47,"span"),e._uU(48,"Detalle de Localizaci\xf3n"),e.qZA()(),e.TgZ(49,"div",10)(50,"div"),e._UZ(51,"input",12),e.qZA()(),e.TgZ(52,"div",10)(53,"div")(54,"p-dropdown",20),e.NdJ("ngModelChange",function(h){return s.selectedBranch=h}),e.YNc(55,me,1,1,"ng-template",15),e.YNc(56,ge,5,2,"ng-template",16),e.qZA()()(),e.TgZ(57,"div",13)(58,"div")(59,"p-dropdown",21),e.NdJ("ngModelChange",function(h){return s.selectedOrigin=h}),e.YNc(60,ae,1,1,"ng-template",15),e.YNc(61,_e,5,2,"ng-template",16),e.qZA()()(),e.TgZ(62,"div",13)(63,"div")(64,"p-dropdown",22),e.NdJ("ngModelChange",function(h){return s.selectedDestination=h}),e.YNc(65,xe,1,1,"ng-template",15),e.YNc(66,Ce,5,2,"ng-template",16),e.qZA()()(),e.TgZ(67,"div",13)(68,"div")(69,"p-dropdown",23),e.NdJ("ngModelChange",function(h){return s.selectedLocation=h}),e.YNc(70,U,1,1,"ng-template",15),e.YNc(71,Q,5,2,"ng-template",16),e.qZA()()()()()()()),2&n&&(e.xp6(4),e.Q6J("headerList",s.page.tableConfiguration.headerList)("dataList",s.packageList)("canCreate",!0),e.xp6(6),e.Oqu(s.totalPayment),e.xp6(1),e.Q6J("formGroup",s.billingsForm),e.xp6(9),e.Q6J("showIcon",!0)("disabled",!0)("ngClass",e.VKq(44,$,s.billingsForm.controls.date.touched&&(null==s.billingsForm.controls.date.errors?null:s.billingsForm.controls.date.errors.required))),e.xp6(3),e.Q6J("ngClass",e.VKq(46,$,s.billingsForm.controls.invoice.touched&&(null==s.billingsForm.controls.invoice.errors?null:s.billingsForm.controls.invoice.errors.required)))("disabled",!0),e.xp6(3),e.Q6J("options",s.clientList)("ngModel",s.selectedShipper)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.clientList)("ngModel",s.selectedBillTo)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.clientList)("ngModel",s.selectedConsignee)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.userList)("ngModel",s.selectedAgent)("filter",!0)("showClear",!0),e.xp6(10),e.Q6J("ngClass",e.VKq(48,$,s.billingsForm.controls.invoice.touched&&(null==s.billingsForm.controls.invoice.errors?null:s.billingsForm.controls.invoice.errors.required)))("disabled",!0),e.xp6(3),e.Q6J("options",s.warehouseList)("ngModel",s.selectedBranch)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.warehouseList)("ngModel",s.selectedOrigin)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.warehouseList)("ngModel",s.selectedDestination)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.warehouseList)("ngModel",s.selectedLocation)("filter",!0)("showClear",!0))},directives:[M.N,m._Y,m.JL,m.sg,v.f,m.JJ,m.u,_.mk,m.Fj,w.o,m.Q7,B.Lt,C.jx,_.O5],styles:[".title[_ngcontent-%COMP%]{font-weight:600;font-size:32px;line-height:27px;color:#000;margin-bottom:48px}.subtitle[_ngcontent-%COMP%]{font-weight:600;font-size:24px;line-height:27px;letter-spacing:.04em;color:#000}.pabiont-card[_ngcontent-%COMP%]{border-radius:20px;border:2px solid rgba(0,0,0,.05);box-shadow:0 4px 4px #00000040}.pabiont-card[_ngcontent-%COMP%]   .filterSubtitle[_ngcontent-%COMP%]{font-size:14;color:#00000040}.pabiont-card[_ngcontent-%COMP%]   .payment[_ngcontent-%COMP%]{border-top:1px solid #e4e4e4;font-size:18px;font-weight:600;padding:24px}  .p-dropdown{width:100%}"]}),r})();var se=g(7815),le=g.n(se);class we{constructor(p,n,s,u,h,R,H,z){this.weight=p,this.high=n,this.width=s,this.long=u,this.description=h,this.bill=R,this.shipping_type=z,this.company=H}}var G=g(135),be=g(5522),ee=g(5315);let te=(()=>{class r{constructor(n,s,u,h){this.el=n,this.ngModel=s,this.control=u,this.cd=h,this.onResize=new e.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(n){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(n){this.autoResize&&this.resize(n)}onBlur(n){this.autoResize&&this.resize(n)}resize(n){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(n||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq),e.Y36(m.On,8),e.Y36(m.a5,8),e.Y36(e.sBO))},r.\u0275dir=e.lG2({type:r,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(n,s){1&n&&e.NdJ("input",function(h){return s.onInput(h)})("focus",function(h){return s.onFocus(h)})("blur",function(h){return s.onBlur(h)}),2&n&&e.ekj("p-filled",s.filled)("p-inputtextarea-resizable",s.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),r})(),W=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[_.ez]]}),r})();var N=g(845);function ie(r,p){if(1&r){const n=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(n),e.oxw().displayDescription=!1}),e.qZA(),e.TgZ(1,"p-button",12),e.NdJ("click",function(){e.CHM(n);const u=e.oxw(),h=e.MAs(4);return u.displayDescription=!1,u.addToList(),h.clearPackageInformation()}),e.qZA()}if(2&r){const n=e.oxw();e.xp6(1),e.Q6J("disabled",n.modalIsValid)}}const Te=function(){return{width:"50vw"}};let o=(()=>{class r{constructor(n,s){this.appConfig=n,this.tableManagmentService=s,this.id=0,this.packageList=[],this.displayDescription=!1,this.description="",this.modalIsValid=!0,this.FinalizeStep=new e.vpe,this.page=this.appConfig.invoiceCreation,this.page=this.page.default}ngOnInit(){}addToList(){this.id++,this.packageRequest=new we(this.packageInformation.weight,this.packageInformation.high,this.packageInformation.width,this.packageInformation.long,this.description,0,1,this.packageInformation.type);let n=Number(this.packageInformation.high*this.packageInformation.width*this.packageInformation.long).toFixed(0);this.packageList.push({size:`${this.packageInformation.high}x${this.packageInformation.width}x${this.packageInformation.long}`,weight:this.packageInformation.weight,volume:`${n}m3`,description:this.description,price:this.packageInformation.price.toFixed(2),type:this.packageInformation.type,package_information:this.packageRequest,id:this.id}),this.description="",this.modalIsValid=!0,this.FinalizeStep.emit(this.packageList)}deleteItem(n){let s=this.packageList.indexOf(n.id);return this.packageList.splice(s,1),le()(this.packageList)}packageSize(){return le()(this.packageList)}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(x._),e.Y36(G.l))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-quote-package"]],outputs:{FinalizeStep:"FinalizeStep"},decls:12,vars:10,consts:[[1,"row","m-0"],[1,"title"],[3,"isSelectable","isClicked"],["child",""],[1,"row","m-0","p-4"],[1,"pabiont-card"],[3,"headerList","customButtons","dataList","canCreate"],["header","Descripcion del paquete",3,"visible","visibleChange"],[1,"row","justify-content-center"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["pTemplate","footer"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text","p-button-danger",3,"click"],["icon","pi pi-check","label","Aceptar","styleClass","p-button-text",3,"disabled","click"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2,"Cotizaci\xf3n de Paquetes"),e.qZA(),e.TgZ(3,"app-quotes",2,3),e.NdJ("isClicked",function(h){return s.packageInformation=h,s.displayDescription=!0}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"app-basic-table",6),e.qZA()(),e.TgZ(8,"p-dialog",7),e.NdJ("visibleChange",function(h){return s.displayDescription=h}),e.TgZ(9,"div",8)(10,"textarea",9),e.NdJ("ngModelChange",function(h){return s.description=h})("ngModelChange",function(){return s.modalIsValid=!1}),e.qZA()(),e.YNc(11,ie,2,1,"ng-template",10),e.qZA()),2&n&&(e.xp6(3),e.Q6J("isSelectable",!0),e.xp6(4),e.Q6J("headerList",s.page.tableConfiguration.headerList)("customButtons",s.page.tableConfiguration.customButtons)("dataList",s.packageList)("canCreate",!0),e.xp6(1),e.Akn(e.DdM(9,Te)),e.Q6J("visible",s.displayDescription),e.xp6(2),e.Q6J("ngModel",s.description))},directives:[be.z,M.N,ee.V,m.Fj,te,m.JJ,m.On,C.jx,N.Hq,N.zx],styles:[".title[_ngcontent-%COMP%]{font-weight:600;font-size:32px;line-height:27px;color:#000;margin-bottom:48px;padding:16px}.pabiont-card[_ngcontent-%COMP%]{border-radius:20px;border:2px solid rgba(0,0,0,.05);box-shadow:0 4px 4px #00000040}"]}),r})();var t=g(7773),i=g(1777),a=g(5730),l=g(5921),d=g(5787);const f=["content"];function T(r,p){1&r&&e.GkF(0)}function E(r,p){if(1&r&&(e.TgZ(0,"div",10),e.YNc(1,T,1,0,"ng-container",11),e.qZA()),2&r){const n=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",n.headerTemplate)}}function Z(r,p){if(1&r&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&r){const n=e.oxw(4);e.xp6(1),e.Oqu(n.option("header"))}}const q=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function F(r,p){if(1&r){const n=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(u){return e.CHM(n),e.oxw(4).close(u)})("keydown.enter",function(u){return e.CHM(n),e.oxw(4).close(u)}),e._UZ(1,"span",17),e.qZA()}2&r&&e.Q6J("ngClass",e.DdM(1,q))}function K(r,p){if(1&r&&(e.TgZ(0,"div",10),e.YNc(1,Z,2,1,"span",12),e.TgZ(2,"div",13),e.YNc(3,F,2,2,"button",14),e.qZA()()),2&r){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.option("header")),e.xp6(2),e.Q6J("ngIf",n.closable)}}function ce(r,p){if(1&r&&e._UZ(0,"i",1),2&r){const n=e.oxw(3);e.Tol(n.option("icon")),e.Q6J("ngClass","p-confirm-dialog-icon")}}function pe(r,p){1&r&&e.GkF(0)}function Be(r,p){if(1&r&&(e.TgZ(0,"div",18),e.Hsn(1),e.YNc(2,pe,1,0,"ng-container",11),e.qZA()),2&r){const n=e.oxw(3);e.xp6(2),e.Q6J("ngTemplateOutlet",n.footerTemplate)}}function Ee(r,p){if(1&r){const n=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).reject()}),e.qZA()}if(2&r){const n=e.oxw(4);e.Tol(n.option("rejectButtonStyleClass")),e.Q6J("icon",n.option("rejectIcon"))("label",n.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),e.uIk("aria-label",n.rejectAriaLabel)}}function Ze(r,p){if(1&r){const n=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).accept()}),e.qZA()}if(2&r){const n=e.oxw(4);e.Tol(n.option("acceptButtonStyleClass")),e.Q6J("icon",n.option("acceptIcon"))("label",n.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),e.uIk("aria-label",n.acceptAriaLabel)}}function Me(r,p){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,Ee,1,6,"button",19),e.YNc(2,Ze,1,6,"button",19),e.qZA()),2&r){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.option("rejectVisible")),e.xp6(1),e.Q6J("ngIf",n.option("acceptVisible"))}}const Fe=function(r){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":r}},ke=function(r,p){return{transform:r,transition:p}},Le=function(r){return{value:"visible",params:r}};function Se(r,p){if(1&r){const n=e.EpF();e.TgZ(0,"div",3),e.NdJ("mousedown",function(){return e.CHM(n),e.oxw(2).moveOnTop()})("@animation.start",function(u){return e.CHM(n),e.oxw(2).onAnimationStart(u)})("@animation.done",function(u){return e.CHM(n),e.oxw(2).onAnimationEnd(u)}),e.YNc(1,E,2,1,"div",4),e.YNc(2,K,4,2,"div",4),e.TgZ(3,"div",5,6),e.YNc(5,ce,1,3,"i",7),e._UZ(6,"span",8),e.qZA(),e.YNc(7,Be,3,1,"div",9),e.YNc(8,Me,3,2,"div",9),e.qZA()}if(2&r){const n=e.oxw(2);e.Tol(n.styleClass),e.Q6J("ngClass",e.VKq(11,Fe,n.rtl))("ngStyle",n.style)("@animation",e.VKq(16,Le,e.WLB(13,ke,n.transformOptions,n.transitionOptions))),e.xp6(1),e.Q6J("ngIf",n.headerTemplate),e.xp6(1),e.Q6J("ngIf",!n.headerTemplate),e.xp6(3),e.Q6J("ngIf",n.option("icon")),e.xp6(1),e.Q6J("innerHTML",n.option("message"),e.oJD),e.xp6(1),e.Q6J("ngIf",n.footer||n.footerTemplate),e.xp6(1),e.Q6J("ngIf",!n.footer&&!n.footerTemplate)}}function Ue(r,p){if(1&r&&(e.TgZ(0,"div",1),e.YNc(1,Se,9,18,"div",2),e.qZA()),2&r){const n=e.oxw();e.Tol(n.maskStyleClass),e.Q6J("ngClass",n.getMaskClass()),e.xp6(1),e.Q6J("ngIf",n.visible)}}const Ne=[[["p-footer"]]],qe=["p-footer"],Je=(0,i.oQ)([(0,i.oB)({transform:"{{transform}}",opacity:0}),(0,i.jt)("{{transition}}",(0,i.oB)({transform:"none",opacity:1}))]),De=(0,i.oQ)([(0,i.jt)("{{transition}}",(0,i.oB)({transform:"{{transform}}",opacity:0}))]);let Ye=(()=>{class r{constructor(n,s,u,h,R,H){this.el=n,this.renderer=s,this.confirmationService=u,this.zone=h,this.cd=R,this.config=H,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new e.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=(0,l.Th)(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(z=>{z?z.key===this.key&&(this.confirmation=z,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new e.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new e.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(n){this._visible=n,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(n){switch(this._position=n,n){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"header":this.headerTemplate=n.template;break;case"footer":this.footerTemplate=n.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(n){const s=this.confirmationOptions||this;if(s.hasOwnProperty(n))return s[n]}onAnimationStart(n){if("visible"===n.toState){this.container=n.element,this.wrapper=this.container.parentElement,this.contentContainer=a.p.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const s=this.getElementToFocus();s&&s.focus()}}onAnimationEnd(n){"void"===n.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return a.p.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return a.p.findSingle(this.container,".p-confirm-dialog-reject");case"close":return a.p.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):a.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&a.p.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",n=>{this.wrapper&&this.wrapper.isSameNode(n.target)&&this.close(n)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&a.p.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let n="";for(let s in this.breakpoints)n+=`\n                    @media screen and (max-width: ${s}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[s]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=n}}close(n){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(C.wB.CANCEL),this.hide(C.wB.CANCEL),n.preventDefault()}hide(n){this.onHide.emit(n),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(l.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let n={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return n[this.getPositionClass().toString()]=!0,n}getPositionClass(){const s=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(u=>u===this.position);return s?`p-dialog-${s}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",s=>{if(27==s.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===l.P9.get(this.container)&&this.visible&&this.close(s),9===s.which&&this.focusTrap){s.preventDefault();let u=a.p.getFocusableElements(this.container);if(u&&u.length>0)if(u[0].ownerDocument.activeElement){let h=u.indexOf(u[0].ownerDocument.activeElement);s.shiftKey?-1==h||0===h?u[u.length-1].focus():u[h-1].focus():-1==h||h===u.length-1?u[0].focus():u[h+1].focus()}else u[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&l.P9.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(C.wB.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(C.wB.REJECT),this.hide(C.wB.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(C.ws.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(C.ws.REJECT)}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(C.YP),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(C.b4))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-confirmDialog"]],contentQueries:function(n,s,u){if(1&n&&(e.Suo(u,C.$_,5),e.Suo(u,C.jx,4)),2&n){let h;e.iGM(h=e.CRH())&&(s.footer=h.first),e.iGM(h=e.CRH())&&(s.templates=h)}},viewQuery:function(n,s){if(1&n&&e.Gf(f,5),2&n){let u;e.iGM(u=e.CRH())&&(s.contentViewChild=u.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:qe,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class","mousedown",4,"ngIf"],[3,"ngClass","ngStyle","mousedown"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(n,s){1&n&&(e.F$t(Ne),e.YNc(0,Ue,2,4,"div",0)),2&n&&e.Q6J("ngIf",s.maskVisible)},directives:[_.O5,_.mk,_.PC,_.tP,d.H,N.Hq],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,i.X$)("animation",[(0,i.eR)("void => visible",[(0,i._7)(Je)]),(0,i.eR)("visible => void",[(0,i._7)(De)])])]},changeDetection:0}),r})(),Pe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[_.ez,N.hJ,d.T],N.hJ,C.m8]}),r})();function Qe(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.AsE(" ",n.selectedShipper.first_name," ",n.selectedShipper.last_name," ")}}function je(r,p){if(1&r&&e.YNc(0,Qe,3,2,"div",20),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedShipper)}}function Oe(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.AsE(" ",n.first_name," ",n.last_name," "),e.xp6(2),e.hij(" ",n.code," ")}}function Re(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.AsE(" ",n.selectedBillTo.first_name," ",n.selectedBillTo.last_name," ")}}function ze(r,p){if(1&r&&e.YNc(0,Re,3,2,"div",20),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedBillTo)}}function Ve(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.AsE(" ",n.first_name," ",n.last_name," "),e.xp6(2),e.hij(" ",n.code," ")}}function He(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.AsE(" ",n.selectedConsignee.first_name," ",n.selectedConsignee.last_name," ")}}function $e(r,p){if(1&r&&e.YNc(0,He,3,2,"div",20),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedConsignee)}}function Ge(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.AsE(" ",n.first_name," ",n.last_name," "),e.xp6(2),e.hij(" ",n.code," ")}}function We(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.AsE(" ",n.selectedAgent.first_name," ",n.selectedAgent.last_name," ")}}function Ke(r,p){if(1&r&&e.YNc(0,We,3,2,"div",20),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedAgent)}}function Xe(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.AsE(" ",n.first_name," ",n.last_name," "),e.xp6(2),e.hij(" ",n.code," ")}}function et(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.hij(" ",n.selectedBranch.description," ")}}function tt(r,p){if(1&r&&e.YNc(0,et,3,1,"div",20),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedBranch)}}function it(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.hij(" ",n.code," ")}}function nt(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.hij(" ",n.selectedOrigin.description," ")}}function ot(r,p){if(1&r&&e.YNc(0,nt,3,1,"div",20),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedOrigin)}}function rt(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.hij(" ",n.code," ")}}function at(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.hij(" ",n.selectedDestination.description," ")}}function st(r,p){if(1&r&&e.YNc(0,at,3,1,"div",20),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedDestination)}}function lt(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.hij(" ",n.code," ")}}function ct(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(2),e.hij(" ",n.selectedLocation.description," ")}}function pt(r,p){if(1&r&&e.YNc(0,ct,3,1,"div",20),2&r){const n=e.oxw();e.Q6J("ngIf",n.selectedLocation)}}function ut(r,p){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&r){const n=p.$implicit;e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.hij(" ",n.code," ")}}const Ie=function(r){return{"ng-dirty ng-invalid":r}};let dt=(()=>{class r{constructor(n,s,u,h,R){this.appConfig=n,this.formBuilder=s,this.usersManagementService=u,this.warehouseManagementService=h,this.datepipe=R,this.packageList=[],console.log("test:",this.paymentInformation),this.page=this.appConfig.invoiceCreation,this.page=this.page.default,this.resetForm(),this.getClientList(),this.getUserList(),this.getWarehouseList()}ngOnInit(){}resetForm(){this.billingsForm=this.formBuilder.group({date:["",[m.kI.required]],invoice:["",[m.kI.required]],shipper:["",[m.kI.required]],consignee:["",[m.kI.required]],agent:["",[m.kI.required]],bill_to:["",[m.kI.required]],tracking:["",[m.kI.required]],branch:["",[m.kI.required]],origin_destination:["",[m.kI.required]],final_destination:["",[m.kI.required]],location:["",[m.kI.required]]}),this.billingsForm.controls.invoice.disable()}getClientList(){var n=this;return(0,A.Z)(function*(){n.clientList=yield n.usersManagementService.getUserClient().toPromise().then(s=>s)})()}getUserList(){var n=this;return(0,A.Z)(function*(){n.userList=yield n.usersManagementService.getUserAdmin().toPromise().then(s=>s)})()}getWarehouseList(){var n=this;return(0,A.Z)(function*(){n.warehouseList=yield n.warehouseManagementService.getWarehouses().toPromise().then(s=>s),n.warehouseList=n.warehouseList.filter(s=>"Localidad"==s.type)})()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(x._),e.Y36(m.qu),e.Y36(c.D),e.Y36(I.F),e.Y36(_.uU))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-payment-confirmation"]],inputs:{paymentInformation:"paymentInformation"},decls:58,vars:50,consts:[[3,"formGroup"],[1,"row","m-0","p-4"],[1,"col-6"],[1,"pabiont-card","row","m-0","p-3"],[1,"col-6","px-3"],["inputId","basic","formControlName","date","dateFormat","dd/mm/yy","appendTo","body","styleClass","w-100","placeholder","fecha",3,"showIcon","disabled","ngClass"],["type","text","pInputText","","formControlName","invoice","required","",1,"w-100",3,"ngClass","disabled"],[1,"col-6","px-3","mt-3"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","shipper","placeholder","Remitente",3,"options","ngModel","filter","showClear","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","bill_to","placeholder","Facturador",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","consignee","placeholder","Destinatario",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","agent","placeholder","Agente",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","branch","placeholder","Sucursal",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","origin_destination","placeholder","Lugar de Origen",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","final_destination","placeholder","Lugar de Destino",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","location","placeholder","Locaci\xf3n",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"pabiont-card"],[3,"headerList","customButtons","dataList","canCreate"],[4,"ngIf"],[1,"filterSubtitle"]],template:function(n,s){1&n&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div"),e._UZ(6,"p-calendar",5),e.qZA()(),e.TgZ(7,"div",4)(8,"div"),e._UZ(9,"input",6),e.qZA()(),e.TgZ(10,"div",7)(11,"div")(12,"p-dropdown",8),e.NdJ("ngModelChange",function(h){return s.selectedShipper=h}),e.YNc(13,je,1,1,"ng-template",9),e.YNc(14,Oe,5,3,"ng-template",10),e.qZA()()(),e.TgZ(15,"div",7)(16,"div")(17,"p-dropdown",11),e.NdJ("ngModelChange",function(h){return s.selectedBillTo=h}),e.YNc(18,ze,1,1,"ng-template",9),e.YNc(19,Ve,5,3,"ng-template",10),e.qZA()()(),e.TgZ(20,"div",7)(21,"div")(22,"p-dropdown",12),e.NdJ("ngModelChange",function(h){return s.selectedConsignee=h}),e.YNc(23,$e,1,1,"ng-template",9),e.YNc(24,Ge,5,3,"ng-template",10),e.qZA()()(),e.TgZ(25,"div",7)(26,"div")(27,"p-dropdown",13),e.NdJ("ngModelChange",function(h){return s.selectedAgent=h}),e.YNc(28,Ke,1,1,"ng-template",9),e.YNc(29,Xe,5,3,"ng-template",10),e.qZA()()()()(),e.TgZ(30,"div",2)(31,"div",3)(32,"div",4)(33,"div"),e._UZ(34,"input",6),e.qZA()(),e.TgZ(35,"div",4)(36,"div")(37,"p-dropdown",14),e.NdJ("ngModelChange",function(h){return s.selectedBranch=h}),e.YNc(38,tt,1,1,"ng-template",9),e.YNc(39,it,5,2,"ng-template",10),e.qZA()()(),e.TgZ(40,"div",7)(41,"div")(42,"p-dropdown",15),e.NdJ("ngModelChange",function(h){return s.selectedOrigin=h}),e.YNc(43,ot,1,1,"ng-template",9),e.YNc(44,rt,5,2,"ng-template",10),e.qZA()()(),e.TgZ(45,"div",7)(46,"div")(47,"p-dropdown",16),e.NdJ("ngModelChange",function(h){return s.selectedDestination=h}),e.YNc(48,st,1,1,"ng-template",9),e.YNc(49,lt,5,2,"ng-template",10),e.qZA()()(),e.TgZ(50,"div",7)(51,"div")(52,"p-dropdown",17),e.NdJ("ngModelChange",function(h){return s.selectedLocation=h}),e.YNc(53,pt,1,1,"ng-template",9),e.YNc(54,ut,5,2,"ng-template",10),e.qZA()()()()()()(),e.TgZ(55,"div",1)(56,"div",18),e._UZ(57,"app-basic-table",19),e.qZA()()),2&n&&(e.Q6J("formGroup",s.billingsForm),e.xp6(6),e.Q6J("showIcon",!0)("disabled",!0)("ngClass",e.VKq(44,Ie,s.billingsForm.controls.date.touched&&(null==s.billingsForm.controls.date.errors?null:s.billingsForm.controls.date.errors.required))),e.xp6(3),e.Q6J("ngClass",e.VKq(46,Ie,s.billingsForm.controls.invoice.touched&&(null==s.billingsForm.controls.invoice.errors?null:s.billingsForm.controls.invoice.errors.required)))("disabled",!0),e.xp6(3),e.Q6J("options",s.clientList)("ngModel",s.selectedShipper)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.clientList)("ngModel",s.selectedBillTo)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.clientList)("ngModel",s.selectedConsignee)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.userList)("ngModel",s.selectedAgent)("filter",!0)("showClear",!0),e.xp6(7),e.Q6J("ngClass",e.VKq(48,Ie,s.billingsForm.controls.invoice.touched&&(null==s.billingsForm.controls.invoice.errors?null:s.billingsForm.controls.invoice.errors.required)))("disabled",!0),e.xp6(3),e.Q6J("options",s.warehouseList)("ngModel",s.selectedBranch)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.warehouseList)("ngModel",s.selectedOrigin)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.warehouseList)("ngModel",s.selectedDestination)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",s.warehouseList)("ngModel",s.selectedLocation)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("headerList",s.page.tableConfiguration.headerList)("customButtons",s.page.tableConfiguration.customButtons)("dataList",s.packageList)("canCreate",!0))},directives:[m._Y,m.JL,m.sg,v.f,m.JJ,m.u,_.mk,m.Fj,w.o,m.Q7,B.Lt,C.jx,_.O5,M.N],styles:[".title[_ngcontent-%COMP%]{font-weight:600;font-size:32px;line-height:27px;color:#000;margin-bottom:48px}.pabiont-card[_ngcontent-%COMP%]{border-radius:20px;border:2px solid rgba(0,0,0,.05);box-shadow:0 4px 4px #00000040}"]}),r})();function ft(r,p){if(1&r){const n=e.EpF();e.TgZ(0,"div")(1,"app-quote-package",11,12),e.NdJ("FinalizeStep",function(u){e.CHM(n);const h=e.oxw();return h.packageList=u,h.isValid=!1}),e.qZA()()}}function ht(r,p){if(1&r){const n=e.EpF();e.TgZ(0,"div")(1,"app-billing-information",13,12),e.NdJ("finalizeStep",function(){return e.CHM(n),e.oxw().isValid=!1})("isValid",function(u){return e.CHM(n),e.oxw().isValid=u}),e.qZA()()}if(2&r){const n=e.oxw();e.xp6(1),e.Q6J("packageList",n.packageList)("totalPayment",n.totalPayment)}}function mt(r,p){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"app-payment-confirmation",14),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("paymentInformation",n.billingInformation)}}function gt(r,p){if(1&r){const n=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){return e.CHM(n),e.oxw().displayDescription=!1}),e.qZA(),e.TgZ(1,"p-button",16),e.NdJ("click",function(){e.CHM(n);const u=e.oxw();return u.displayDescription=!1,u.nextStep(!0)}),e.qZA()}if(2&r){const n=e.oxw();e.xp6(1),e.Q6J("disabled",n.modalIsValid)}}const Ae=function(){return{width:"50vw"}},_t=[{path:"",component:(()=>{class r{constructor(n,s,u){this.tableManagmentService=n,this.confirmationService=s,this.router=u,this.currentStep=1,this.displayDescription=!1,this.description="",this.isValid=!0,this.modalIsValid=!1,this.tableManagmentService.buttonEvent.subscribe(h=>{this.selectedButton(h)})}ngOnInit(){}nextStep(n=!1){var s=this;return(0,A.Z)(function*(){if(n)yield s.billingInformationComponent.setInvoiceInformation(s.description),n=!1,s.isValid=!0,s.description="",s.currentStep=1;else switch(s.currentStep){case 1:s.totalPayment=0,s.packageList.forEach(u=>{s.totalPayment=Number(u.price)+s.totalPayment}),s.isValid=!0,s.currentStep=2;break;case 2:s.modalIsValid=!0,s.displayDescription=!0}})()}sleep(){}redirect(){this.router.navigate(["main"])}selectedButton(n){2===n.buttonId&&(this.child.deleteItem(n.rowData),this.isValid=0==this.child.packageSize())}confirm(){this.confirmationService.confirm({message:"Estos son los datos que desea registrar?",accept:()=>{this.nextStep()}})}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(G.l),e.Y36(C.YP),e.Y36(L.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-billing"]],viewQuery:function(n,s){if(1&n&&(e.Gf(X,5),e.Gf(o,5)),2&n){let u;e.iGM(u=e.CRH())&&(s.billingInformationComponent=u.first),e.iGM(u=e.CRH())&&(s.child=u.first)}},decls:15,vars:13,consts:[["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],[4,"ngIf"],[1,"row","m-0","justify-content-between"],[1,"col","d-flex","justify-content-start","px-5","mb-3"],["pButton","","pRipple","","label","Volver",1,"p-button-outlined"],[1,"col","d-flex","justify-content-end","px-5","mb-3"],["pButton","","pRipple","","label","Confirmar",1,"p-button-outlined",3,"disabled","click"],["header","Descripcion de la Factura",3,"visible","visibleChange"],[1,"row","justify-content-center"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["pTemplate","footer"],[3,"FinalizeStep"],["child",""],[3,"packageList","totalPayment","finalizeStep","isValid"],[3,"paymentInformation"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text","p-button-danger",3,"click"],["icon","pi pi-check","label","Aceptar","styleClass","p-button-text",3,"disabled","click"]],template:function(n,s){1&n&&(e._UZ(0,"p-toast")(1,"p-confirmDialog",0),e.TgZ(2,"div"),e.YNc(3,ft,3,0,"div",1),e.YNc(4,ht,3,2,"div",1),e.YNc(5,mt,2,1,"div",1),e.TgZ(6,"div",2)(7,"div",3),e._UZ(8,"button",4),e.qZA(),e.TgZ(9,"div",5)(10,"button",6),e.NdJ("click",function(){return s.confirm()}),e.qZA()()()(),e.TgZ(11,"p-dialog",7),e.NdJ("visibleChange",function(h){return s.displayDescription=h}),e.TgZ(12,"div",8)(13,"textarea",9),e.NdJ("ngModelChange",function(h){return s.description=h})("ngModelChange",function(){return s.modalIsValid=!1}),e.qZA()(),e.YNc(14,gt,2,1,"ng-template",10),e.qZA()),2&n&&(e.xp6(1),e.Akn(e.DdM(11,Ae)),e.Q6J("baseZIndex",1e4),e.xp6(2),e.Q6J("ngIf",1===s.currentStep),e.xp6(1),e.Q6J("ngIf",2===s.currentStep),e.xp6(1),e.Q6J("ngIf",3===s.currentStep),e.xp6(5),e.Q6J("disabled",s.isValid),e.xp6(1),e.Akn(e.DdM(12,Ae)),e.Q6J("visible",s.displayDescription),e.xp6(2),e.Q6J("ngModel",s.description))},directives:[t.FN,Ye,_.O5,o,X,dt,N.Hq,ee.V,m.Fj,te,m.JJ,m.On,C.jx,N.zx],styles:[""]}),r})()}];let vt=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[L.Bz.forChild(_t)],L.Bz]}),r})();var xt=g(8641),Ct=g(732),yt=g(4851);let wt=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[_.ez,vt,xt.R,Ct.T,N.hJ,w.j,ee.S,m.UX,B.kW,yt.U$,m.u5,W,v._8,t.EV,Pe]]}),r})()},5343:(V,J)=>{"use strict";J.byteLength=function x(v){var w=y(v),S=w[1];return 3*(w[0]+S)/4-S},J.toByteArray=function b(v){var w,P,B=y(v),S=B[0],D=B[1],k=new L(function c(v,w,B){return 3*(w+B)/4-B}(0,S,D)),Y=0,j=D>0?S-4:S;for(P=0;P<j;P+=4)w=_[v.charCodeAt(P)]<<18|_[v.charCodeAt(P+1)]<<12|_[v.charCodeAt(P+2)]<<6|_[v.charCodeAt(P+3)],k[Y++]=w>>16&255,k[Y++]=w>>8&255,k[Y++]=255&w;return 2===D&&(w=_[v.charCodeAt(P)]<<2|_[v.charCodeAt(P+1)]>>4,k[Y++]=255&w),1===D&&(w=_[v.charCodeAt(P)]<<10|_[v.charCodeAt(P+1)]<<4|_[v.charCodeAt(P+2)]>>2,k[Y++]=w>>8&255,k[Y++]=255&w),k},J.fromByteArray=function M(v){for(var w,B=v.length,S=B%3,D=[],k=16383,Y=0,j=B-S;Y<j;Y+=k)D.push(C(v,Y,Y+k>j?j:Y+k));return 1===S?D.push(g[(w=v[B-1])>>2]+g[w<<4&63]+"=="):2===S&&D.push(g[(w=(v[B-2]<<8)+v[B-1])>>10]+g[w>>4&63]+g[w<<2&63]+"="),D.join("")};for(var g=[],_=[],L="undefined"!=typeof Uint8Array?Uint8Array:Array,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,m=A.length;e<m;++e)g[e]=A[e],_[A.charCodeAt(e)]=e;function y(v){var w=v.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=v.indexOf("=");return-1===B&&(B=w),[B,B===w?0:4-B%4]}function I(v){return g[v>>18&63]+g[v>>12&63]+g[v>>6&63]+g[63&v]}function C(v,w,B){for(var D=[],k=w;k<B;k+=3)D.push(I((v[k]<<16&16711680)+(v[k+1]<<8&65280)+(255&v[k+2])));return D.join("")}_["-".charCodeAt(0)]=62,_["_".charCodeAt(0)]=63},3172:(V,J,g)=>{"use strict";var L=g(5343),A=g(8461),e="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;J.lW=c,J.h2=50;var m=2147483647;function x(o){if(o>m)throw new RangeError('The value "'+o+'" is invalid for option "size"');var t=new Uint8Array(o);return Object.setPrototypeOf(t,c.prototype),t}function c(o,t,i){if("number"==typeof o){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return M(o)}return b(o,t,i)}function b(o,t,i){if("string"==typeof o)return function v(o,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|j(o,t),a=x(i),l=a.write(o,t);return l!==i&&(a=a.slice(0,l)),a}(o,t);if(ArrayBuffer.isView(o))return function B(o){if(N(o,Uint8Array)){var t=new Uint8Array(o);return S(t.buffer,t.byteOffset,t.byteLength)}return w(o)}(o);if(null==o)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(N(o,ArrayBuffer)||o&&N(o.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(N(o,SharedArrayBuffer)||o&&N(o.buffer,SharedArrayBuffer)))return S(o,t,i);if("number"==typeof o)throw new TypeError('The "value" argument must not be of type number. Received type number');var a=o.valueOf&&o.valueOf();if(null!=a&&a!==o)return c.from(a,t,i);var l=function D(o){if(c.isBuffer(o)){var t=0|k(o.length),i=x(t);return 0===i.length||o.copy(i,0,0,t),i}return void 0!==o.length?"number"!=typeof o.length||ie(o.length)?x(0):w(o):"Buffer"===o.type&&Array.isArray(o.data)?w(o.data):void 0}(o);if(l)return l;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof o[Symbol.toPrimitive])return c.from(o[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}function I(o){if("number"!=typeof o)throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function M(o){return I(o),x(o<0?0:0|k(o))}function w(o){for(var t=o.length<0?0:0|k(o.length),i=x(t),a=0;a<t;a+=1)i[a]=255&o[a];return i}function S(o,t,i){if(t<0||o.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var a;return a=void 0===t&&void 0===i?new Uint8Array(o):void 0===i?new Uint8Array(o,t):new Uint8Array(o,t,i),Object.setPrototypeOf(a,c.prototype),a}function k(o){if(o>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|o}function j(o,t){if(c.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||N(o,ArrayBuffer))return o.byteLength;if("string"!=typeof o)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);var i=o.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===i)return 0;for(var l=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return G(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return te(o).length;default:if(l)return a?-1:G(o).length;t=(""+t).toLowerCase(),l=!0}}function P(o,t,i){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(t>>>=0))return"";for(o||(o="utf8");;)switch(o){case"hex":return Ce(this,t,i);case"utf8":case"utf-8":return re(this,t,i);case"ascii":return ve(this,t,i);case"latin1":case"binary":return xe(this,t,i);case"base64":return ge(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,t,i);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),a=!0}}function O(o,t,i){var a=o[t];o[t]=o[i],o[i]=a}function ne(o,t,i,a,l){if(0===o.length)return-1;if("string"==typeof i?(a=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),ie(i=+i)&&(i=l?0:o.length-1),i<0&&(i=o.length+i),i>=o.length){if(l)return-1;i=o.length-1}else if(i<0){if(!l)return-1;i=0}if("string"==typeof t&&(t=c.from(t,a)),c.isBuffer(t))return 0===t.length?-1:oe(o,t,i,a,l);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?l?Uint8Array.prototype.indexOf.call(o,t,i):Uint8Array.prototype.lastIndexOf.call(o,t,i):oe(o,[t],i,a,l);throw new TypeError("val must be string, number or Buffer")}function oe(o,t,i,a,l){var Z,d=1,f=o.length,T=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(o.length<2||t.length<2)return-1;d=2,f/=2,T/=2,i/=2}function E(ce,pe){return 1===d?ce[pe]:ce.readUInt16BE(pe*d)}if(l){var q=-1;for(Z=i;Z<f;Z++)if(E(o,Z)===E(t,-1===q?0:Z-q)){if(-1===q&&(q=Z),Z-q+1===T)return q*d}else-1!==q&&(Z-=Z-q),q=-1}else for(i+T>f&&(i=f-T),Z=i;Z>=0;Z--){for(var F=!0,K=0;K<T;K++)if(E(o,Z+K)!==E(t,K)){F=!1;break}if(F)return Z}return-1}function ue(o,t,i,a){i=Number(i)||0;var l=o.length-i;a?(a=Number(a))>l&&(a=l):a=l;var d=t.length;a>d/2&&(a=d/2);for(var f=0;f<a;++f){var T=parseInt(t.substr(2*f,2),16);if(ie(T))return f;o[i+f]=T}return f}function de(o,t,i,a){return W(G(t,o.length-i),o,i,a)}function fe(o,t,i,a){return W(function be(o){for(var t=[],i=0;i<o.length;++i)t.push(255&o.charCodeAt(i));return t}(t),o,i,a)}function he(o,t,i,a){return W(te(t),o,i,a)}function me(o,t,i,a){return W(function ee(o,t){for(var i,a,d=[],f=0;f<o.length&&!((t-=2)<0);++f)a=(i=o.charCodeAt(f))>>8,d.push(i%256),d.push(a);return d}(t,o.length-i),o,i,a)}function ge(o,t,i){return L.fromByteArray(0===t&&i===o.length?o:o.slice(t,i))}function re(o,t,i){i=Math.min(o.length,i);for(var a=[],l=t;l<i;){var E,Z,q,F,d=o[l],f=null,T=d>239?4:d>223?3:d>191?2:1;if(l+T<=i)switch(T){case 1:d<128&&(f=d);break;case 2:128==(192&(E=o[l+1]))&&(F=(31&d)<<6|63&E)>127&&(f=F);break;case 3:Z=o[l+2],128==(192&(E=o[l+1]))&&128==(192&Z)&&(F=(15&d)<<12|(63&E)<<6|63&Z)>2047&&(F<55296||F>57343)&&(f=F);break;case 4:Z=o[l+2],q=o[l+3],128==(192&(E=o[l+1]))&&128==(192&Z)&&128==(192&q)&&(F=(15&d)<<18|(63&E)<<12|(63&Z)<<6|63&q)>65535&&F<1114112&&(f=F)}null===f?(f=65533,T=1):f>65535&&(a.push((f-=65536)>>>10&1023|55296),f=56320|1023&f),a.push(f),l+=T}return function _e(o){var t=o.length;if(t<=4096)return String.fromCharCode.apply(String,o);for(var i="",a=0;a<t;)i+=String.fromCharCode.apply(String,o.slice(a,a+=4096));return i}(a)}function ve(o,t,i){var a="";i=Math.min(o.length,i);for(var l=t;l<i;++l)a+=String.fromCharCode(127&o[l]);return a}function xe(o,t,i){var a="";i=Math.min(o.length,i);for(var l=t;l<i;++l)a+=String.fromCharCode(o[l]);return a}function Ce(o,t,i){var a=o.length;(!t||t<0)&&(t=0),(!i||i<0||i>a)&&(i=a);for(var l="",d=t;d<i;++d)l+=Te[o[d]];return l}function ye(o,t,i){for(var a=o.slice(t,i),l="",d=0;d<a.length-1;d+=2)l+=String.fromCharCode(a[d]+256*a[d+1]);return l}function U(o,t,i){if(o%1!=0||o<0)throw new RangeError("offset is not uint");if(o+t>i)throw new RangeError("Trying to access beyond buffer length")}function Q(o,t,i,a,l,d){if(!c.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>l||t<d)throw new RangeError('"value" argument is out of bounds');if(i+a>o.length)throw new RangeError("Index out of range")}function $(o,t,i,a,l,d){if(i+a>o.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function X(o,t,i,a,l){return t=+t,i>>>=0,l||$(o,0,i,4),A.write(o,t,i,a,23,4),i+4}function se(o,t,i,a,l){return t=+t,i>>>=0,l||$(o,0,i,8),A.write(o,t,i,a,52,8),i+8}!(c.TYPED_ARRAY_SUPPORT=function y(){try{var o=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(o,t),42===o.foo()}catch(i){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(o,t,i){return b(o,t,i)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(o,t,i){return function C(o,t,i){return I(o),o<=0?x(o):void 0!==t?"string"==typeof i?x(o).fill(t,i):x(o).fill(t):x(o)}(o,t,i)},c.allocUnsafe=function(o){return M(o)},c.allocUnsafeSlow=function(o){return M(o)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,i){if(N(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),N(i,Uint8Array)&&(i=c.from(i,i.offset,i.byteLength)),!c.isBuffer(t)||!c.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===i)return 0;for(var a=t.length,l=i.length,d=0,f=Math.min(a,l);d<f;++d)if(t[d]!==i[d]){a=t[d],l=i[d];break}return a<l?-1:l<a?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,i){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var a;if(void 0===i)for(i=0,a=0;a<t.length;++a)i+=t[a].length;var l=c.allocUnsafe(i),d=0;for(a=0;a<t.length;++a){var f=t[a];if(N(f,Uint8Array))d+f.length>l.length?c.from(f).copy(l,d):Uint8Array.prototype.set.call(l,f,d);else{if(!c.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(l,d)}d+=f.length}return l},c.byteLength=j,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)O(this,i,i+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)O(this,i,i+3),O(this,i+1,i+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)O(this,i,i+7),O(this,i+1,i+6),O(this,i+2,i+5),O(this,i+3,i+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?re(this,0,t):P.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",i=J.h2;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},e&&(c.prototype[e]=c.prototype.inspect),c.prototype.compare=function(t,i,a,l,d){if(N(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===i&&(i=0),void 0===a&&(a=t?t.length:0),void 0===l&&(l=0),void 0===d&&(d=this.length),i<0||a>t.length||l<0||d>this.length)throw new RangeError("out of range index");if(l>=d&&i>=a)return 0;if(l>=d)return-1;if(i>=a)return 1;if(this===t)return 0;for(var f=(d>>>=0)-(l>>>=0),T=(a>>>=0)-(i>>>=0),E=Math.min(f,T),Z=this.slice(l,d),q=t.slice(i,a),F=0;F<E;++F)if(Z[F]!==q[F]){f=Z[F],T=q[F];break}return f<T?-1:T<f?1:0},c.prototype.includes=function(t,i,a){return-1!==this.indexOf(t,i,a)},c.prototype.indexOf=function(t,i,a){return ne(this,t,i,a,!0)},c.prototype.lastIndexOf=function(t,i,a){return ne(this,t,i,a,!1)},c.prototype.write=function(t,i,a,l){if(void 0===i)l="utf8",a=this.length,i=0;else if(void 0===a&&"string"==typeof i)l=i,a=this.length,i=0;else{if(!isFinite(i))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");i>>>=0,isFinite(a)?(a>>>=0,void 0===l&&(l="utf8")):(l=a,a=void 0)}var d=this.length-i;if((void 0===a||a>d)&&(a=d),t.length>0&&(a<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");for(var f=!1;;)switch(l){case"hex":return ue(this,t,i,a);case"utf8":case"utf-8":return de(this,t,i,a);case"ascii":case"latin1":case"binary":return fe(this,t,i,a);case"base64":return he(this,t,i,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,t,i,a);default:if(f)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),f=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(t,i){var a=this.length;(t=~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),(i=void 0===i?a:~~i)<0?(i+=a)<0&&(i=0):i>a&&(i=a),i<t&&(i=t);var l=this.subarray(t,i);return Object.setPrototypeOf(l,c.prototype),l},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,i,a){t>>>=0,i>>>=0,a||U(t,i,this.length);for(var l=this[t],d=1,f=0;++f<i&&(d*=256);)l+=this[t+f]*d;return l},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,i,a){t>>>=0,i>>>=0,a||U(t,i,this.length);for(var l=this[t+--i],d=1;i>0&&(d*=256);)l+=this[t+--i]*d;return l},c.prototype.readUint8=c.prototype.readUInt8=function(t,i){return t>>>=0,i||U(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,i){return t>>>=0,i||U(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,i){return t>>>=0,i||U(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,i){return t>>>=0,i||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,i){return t>>>=0,i||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,i,a){t>>>=0,i>>>=0,a||U(t,i,this.length);for(var l=this[t],d=1,f=0;++f<i&&(d*=256);)l+=this[t+f]*d;return l>=(d*=128)&&(l-=Math.pow(2,8*i)),l},c.prototype.readIntBE=function(t,i,a){t>>>=0,i>>>=0,a||U(t,i,this.length);for(var l=i,d=1,f=this[t+--l];l>0&&(d*=256);)f+=this[t+--l]*d;return f>=(d*=128)&&(f-=Math.pow(2,8*i)),f},c.prototype.readInt8=function(t,i){return t>>>=0,i||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,i){t>>>=0,i||U(t,2,this.length);var a=this[t]|this[t+1]<<8;return 32768&a?4294901760|a:a},c.prototype.readInt16BE=function(t,i){t>>>=0,i||U(t,2,this.length);var a=this[t+1]|this[t]<<8;return 32768&a?4294901760|a:a},c.prototype.readInt32LE=function(t,i){return t>>>=0,i||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,i){return t>>>=0,i||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,i){return t>>>=0,i||U(t,4,this.length),A.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,i){return t>>>=0,i||U(t,4,this.length),A.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,i){return t>>>=0,i||U(t,8,this.length),A.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,i){return t>>>=0,i||U(t,8,this.length),A.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,i,a,l){t=+t,i>>>=0,a>>>=0,l||Q(this,t,i,a,Math.pow(2,8*a)-1,0);var f=1,T=0;for(this[i]=255&t;++T<a&&(f*=256);)this[i+T]=t/f&255;return i+a},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,i,a,l){t=+t,i>>>=0,a>>>=0,l||Q(this,t,i,a,Math.pow(2,8*a)-1,0);var f=a-1,T=1;for(this[i+f]=255&t;--f>=0&&(T*=256);)this[i+f]=t/T&255;return i+a},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,i,a){return t=+t,i>>>=0,a||Q(this,t,i,1,255,0),this[i]=255&t,i+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,i,a){return t=+t,i>>>=0,a||Q(this,t,i,2,65535,0),this[i]=255&t,this[i+1]=t>>>8,i+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,i,a){return t=+t,i>>>=0,a||Q(this,t,i,2,65535,0),this[i]=t>>>8,this[i+1]=255&t,i+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,i,a){return t=+t,i>>>=0,a||Q(this,t,i,4,4294967295,0),this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=255&t,i+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,i,a){return t=+t,i>>>=0,a||Q(this,t,i,4,4294967295,0),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t,i+4},c.prototype.writeIntLE=function(t,i,a,l){if(t=+t,i>>>=0,!l){var d=Math.pow(2,8*a-1);Q(this,t,i,a,d-1,-d)}var f=0,T=1,E=0;for(this[i]=255&t;++f<a&&(T*=256);)t<0&&0===E&&0!==this[i+f-1]&&(E=1),this[i+f]=(t/T>>0)-E&255;return i+a},c.prototype.writeIntBE=function(t,i,a,l){if(t=+t,i>>>=0,!l){var d=Math.pow(2,8*a-1);Q(this,t,i,a,d-1,-d)}var f=a-1,T=1,E=0;for(this[i+f]=255&t;--f>=0&&(T*=256);)t<0&&0===E&&0!==this[i+f+1]&&(E=1),this[i+f]=(t/T>>0)-E&255;return i+a},c.prototype.writeInt8=function(t,i,a){return t=+t,i>>>=0,a||Q(this,t,i,1,127,-128),t<0&&(t=255+t+1),this[i]=255&t,i+1},c.prototype.writeInt16LE=function(t,i,a){return t=+t,i>>>=0,a||Q(this,t,i,2,32767,-32768),this[i]=255&t,this[i+1]=t>>>8,i+2},c.prototype.writeInt16BE=function(t,i,a){return t=+t,i>>>=0,a||Q(this,t,i,2,32767,-32768),this[i]=t>>>8,this[i+1]=255&t,i+2},c.prototype.writeInt32LE=function(t,i,a){return t=+t,i>>>=0,a||Q(this,t,i,4,2147483647,-2147483648),this[i]=255&t,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24,i+4},c.prototype.writeInt32BE=function(t,i,a){return t=+t,i>>>=0,a||Q(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t,i+4},c.prototype.writeFloatLE=function(t,i,a){return X(this,t,i,!0,a)},c.prototype.writeFloatBE=function(t,i,a){return X(this,t,i,!1,a)},c.prototype.writeDoubleLE=function(t,i,a){return se(this,t,i,!0,a)},c.prototype.writeDoubleBE=function(t,i,a){return se(this,t,i,!1,a)},c.prototype.copy=function(t,i,a,l){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(a||(a=0),!l&&0!==l&&(l=this.length),i>=t.length&&(i=t.length),i||(i=0),l>0&&l<a&&(l=a),l===a||0===t.length||0===this.length)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),t.length-i<l-a&&(l=t.length-i+a);var d=l-a;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(i,a,l):Uint8Array.prototype.set.call(t,this.subarray(a,l),i),d},c.prototype.fill=function(t,i,a,l){if("string"==typeof t){if("string"==typeof i?(l=i,i=0,a=this.length):"string"==typeof a&&(l=a,a=this.length),void 0!==l&&"string"!=typeof l)throw new TypeError("encoding must be a string");if("string"==typeof l&&!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(1===t.length){var d=t.charCodeAt(0);("utf8"===l&&d<128||"latin1"===l)&&(t=d)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(i<0||this.length<i||this.length<a)throw new RangeError("Out of range index");if(a<=i)return this;var f;if(i>>>=0,a=void 0===a?this.length:a>>>0,t||(t=0),"number"==typeof t)for(f=i;f<a;++f)this[f]=t;else{var T=c.isBuffer(t)?t:c.from(t,l),E=T.length;if(0===E)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(f=0;f<a-i;++f)this[f+i]=T[f%E]}return this};var le=/[^+/0-9A-Za-z-_]/g;function G(o,t){t=t||1/0;for(var i,a=o.length,l=null,d=[],f=0;f<a;++f){if((i=o.charCodeAt(f))>55295&&i<57344){if(!l){if(i>56319){(t-=3)>-1&&d.push(239,191,189);continue}if(f+1===a){(t-=3)>-1&&d.push(239,191,189);continue}l=i;continue}if(i<56320){(t-=3)>-1&&d.push(239,191,189),l=i;continue}i=65536+(l-55296<<10|i-56320)}else l&&(t-=3)>-1&&d.push(239,191,189);if(l=null,i<128){if((t-=1)<0)break;d.push(i)}else if(i<2048){if((t-=2)<0)break;d.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;d.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;d.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return d}function te(o){return L.toByteArray(function we(o){if((o=(o=o.split("=")[0]).trim().replace(le,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}(o))}function W(o,t,i,a){for(var l=0;l<a&&!(l+i>=t.length||l>=o.length);++l)t[l+i]=o[l];return l}function N(o,t){return o instanceof t||null!=o&&null!=o.constructor&&null!=o.constructor.name&&o.constructor.name===t.name}function ie(o){return o!=o}var Te=function(){for(var o="0123456789abcdef",t=new Array(256),i=0;i<16;++i)for(var a=16*i,l=0;l<16;++l)t[a+l]=o[i]+o[l];return t}()},8461:(V,J)=>{J.read=function(g,_,L,A,e){var m,y,x=8*e-A-1,c=(1<<x)-1,b=c>>1,I=-7,C=L?e-1:0,M=L?-1:1,v=g[_+C];for(C+=M,m=v&(1<<-I)-1,v>>=-I,I+=x;I>0;m=256*m+g[_+C],C+=M,I-=8);for(y=m&(1<<-I)-1,m>>=-I,I+=A;I>0;y=256*y+g[_+C],C+=M,I-=8);if(0===m)m=1-b;else{if(m===c)return y?NaN:1/0*(v?-1:1);y+=Math.pow(2,A),m-=b}return(v?-1:1)*y*Math.pow(2,m-A)},J.write=function(g,_,L,A,e,m){var y,x,c,b=8*m-e-1,I=(1<<b)-1,C=I>>1,M=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,v=A?0:m-1,w=A?1:-1,B=_<0||0===_&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(x=isNaN(_)?1:0,y=I):(y=Math.floor(Math.log(_)/Math.LN2),_*(c=Math.pow(2,-y))<1&&(y--,c*=2),(_+=y+C>=1?M/c:M*Math.pow(2,1-C))*c>=2&&(y++,c/=2),y+C>=I?(x=0,y=I):y+C>=1?(x=(_*c-1)*Math.pow(2,e),y+=C):(x=_*Math.pow(2,C-1)*Math.pow(2,e),y=0));e>=8;g[L+v]=255&x,v+=w,x/=256,e-=8);for(y=y<<e|x,b+=e;b>0;g[L+v]=255&y,v+=w,y/=256,b-=8);g[L+v-w]|=128*B}},685:V=>{V.exports={STRING:2,BOOLEAN:4,NUMBER:8}},7815:(V,J,g)=>{"use strict";var _=g(685),L=g(3172).lW;function m(x){return function(b){if(L.isBuffer(b))return b.length;switch(typeof b){case"string":return b.length*_.STRING;case"boolean":return _.BOOLEAN;case"number":return _.NUMBER;case"symbol":return Symbol.keyFor&&Symbol.keyFor(b)?Symbol.keyFor(b).length*_.STRING:(b.toString().length-8)*_.STRING;case"object":return Array.isArray(b)?b.map(m(x)).reduce(function(M,v){return M+v},0):function e(x,c){if(null==c)return 0;for(var b=0,I=function A(x){const c=[];for(var b in x)c.push(b);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(x);Array.prototype.push.apply(c,I)}return c}(c),C=0;C<I.length;C++){var M=I[C];if("object"==typeof c[M]&&null!==c[M]){if(x.has(c[M]))continue;x.add(c[M])}b+=m(x)(M);try{b+=m(x)(c[M])}catch(v){v instanceof RangeError&&(b=0)}}return b}(x,b);default:return 0}}}V.exports=function y(x){return m(new WeakSet)(x)}}}]);