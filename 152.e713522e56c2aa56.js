(self.webpackChunkpabiont_web_portal=self.webpackChunkpabiont_web_portal||[]).push([[152],{9643:(j,q,g)=>{"use strict";g.d(q,{D:()=>h});var _=g(4004),S=g(5e3),I=g(3447),e=g(6456);let h=(()=>{class x{constructor(s,y){this.httpService=s,this.appConfig=y}saveUser(s,y){return y?this.httpService.patch(`${this.appConfig.config.url.saveUser}`,s).pipe((0,_.U)(A=>A.data)):this.httpService.post(`${this.appConfig.config.url.saveUser}`,s).pipe((0,_.U)(A=>A.data))}getUserClient(){return this.httpService.get(`${this.appConfig.config.url.getUserClient}`).pipe((0,_.U)(s=>s.data))}getUserAdmin(){return this.httpService.get(`${this.appConfig.config.url.getUserAdmin}`).pipe((0,_.U)(s=>s.data))}}return x.\u0275fac=function(s){return new(s||x)(S.LFG(I.O),S.LFG(e._))},x.\u0275prov=S.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},4152:(j,q,g)=>{"use strict";g.r(q),g.d(q,{BillingModule:()=>He});var _=g(9808),S=g(7330),I=g(5861),e=g(5e3),h=g(3075);class x{constructor(u,o,p,m,f,$,ee,te,Be,Ge,We,Ke,Xe,et,tt,it){this.description=u,this.date=p,this.due_date=m,this.subtotal=f,this.total=$,this.shipper=ee,this.consignee=te,this.agent=Be,this.bill_to=Ge,this.company=We,this.status=Ke,this.invoice_number=o,this.package_information=Xe,this.payment_type=et,this.origin=tt,this.destination=it}}var C=g(6456),s=g(9643),y=g(8253),A=g(6399),F=g(7729),Z=g(3833),v=g(5652),w=g(1424),B=g(4036),E=g(9783);function J(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.AsE(" ",o.selectedShipper.first_name," ",o.selectedShipper.last_name," ")}}function L(a,u){if(1&a&&e.YNc(0,J,3,2,"div",23),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedShipper)}}function P(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.AsE(" ",o.first_name," ",o.last_name," "),e.xp6(2),e.hij(" ",o.code," ")}}function Q(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.AsE(" ",o.selectedBillTo.first_name," ",o.selectedBillTo.last_name," ")}}function Y(a,u){if(1&a&&e.YNc(0,Q,3,2,"div",23),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedBillTo)}}function O(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.AsE(" ",o.first_name," ",o.last_name," "),e.xp6(2),e.hij(" ",o.code," ")}}function ie(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.AsE(" ",o.selectedConsignee.first_name," ",o.selectedConsignee.last_name," ")}}function ne(a,u){if(1&a&&e.YNc(0,ie,3,2,"div",23),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedConsignee)}}function ue(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.AsE(" ",o.first_name," ",o.last_name," "),e.xp6(2),e.hij(" ",o.code," ")}}function de(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.AsE(" ",o.selectedAgent.first_name," ",o.selectedAgent.last_name," ")}}function he(a,u){if(1&a&&e.YNc(0,de,3,2,"div",23),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedAgent)}}function fe(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.AsE(" ",o.first_name," ",o.last_name," "),e.xp6(2),e.hij(" ",o.code," ")}}function me(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.hij(" ",o.selectedBranch.description," ")}}function ge(a,u){if(1&a&&e.YNc(0,me,3,1,"div",23),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedBranch)}}function re(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.hij(" ",o.description," "),e.xp6(2),e.hij(" ",o.code," ")}}function oe(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.hij(" ",o.selectedOrigin.description," ")}}function _e(a,u){if(1&a&&e.YNc(0,oe,3,1,"div",23),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedOrigin)}}function ve(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.hij(" ",o.description," "),e.xp6(2),e.hij(" ",o.code," ")}}function Ce(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.hij(" ",o.selectedDestination.description," ")}}function xe(a,u){if(1&a&&e.YNc(0,Ce,3,1,"div",23),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedDestination)}}function we(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.hij(" ",o.description," "),e.xp6(2),e.hij(" ",o.code," ")}}function N(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.hij(" ",o.selectedLocation.description," ")}}function D(a,u){if(1&a&&e.YNc(0,N,3,1,"div",23),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedLocation)}}function ae(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",24),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.hij(" ",o.description," "),e.xp6(2),e.hij(" ",o.code," ")}}const H=function(a){return{"ng-dirty ng-invalid":a}};let K=(()=>{class a{constructor(o,p,m,f,$,ee,te,Be){this.appConfig=o,this.usersManagementService=p,this.invoiceManagementService=m,this.warehouseManagementService=f,this.datepipe=$,this.formBuilder=ee,this.alertService=te,this.router=Be,this.today=new Date,this.packageRequest=[],this.finalizeStep=new e.vpe,this.isValid=new e.vpe,this.page=this.appConfig.invoiceCreation,this.page=this.page.default,this.resetForm(),this.getClientList(),this.getUserList(),this.getLastInvoice(),this.getWarehouseList()}ngOnInit(){}resetForm(){this.billingsForm=this.formBuilder.group({date:[this.today,[h.kI.required]],invoice:[""],shipper:["",[h.kI.required]],consignee:["",[h.kI.required]],agent:["",[h.kI.required]],bill_to:["",[h.kI.required]],tracking:[""],branch:["",[h.kI.required]],origin_destination:["",[h.kI.required]],final_destination:["",[h.kI.required]],location:["",[h.kI.required]]}),this.billingsForm.controls.invoice.disable(),this.billingsForm.statusChanges.subscribe(o=>{this.isValid.emit(!("VALID"==o))})}getClientList(){var o=this;return(0,I.Z)(function*(){o.clientList=yield o.usersManagementService.getUserClient().toPromise().then(p=>p)})()}getUserList(){var o=this;return(0,I.Z)(function*(){o.userList=yield o.usersManagementService.getUserAdmin().toPromise().then(p=>p)})()}getLastInvoice(){var o=this;return(0,I.Z)(function*(){let p=yield o.invoiceManagementService.getLastInvoice().toPromise().then(f=>f.last_invoice),m=yield o.invoiceManagementService.getPrefix().toPromise().then(f=>f.prefix);p++,o.billingsForm.controls.invoice.setValue(`${m}-${p}-${o.datepipe.transform(o.today,"yy")}`)})()}getWarehouseList(){var o=this;return(0,I.Z)(function*(){o.warehouseList=yield o.warehouseManagementService.getWarehouses().toPromise().then(p=>p),o.warehouseList=o.warehouseList.filter(p=>"Localidad"==p.type)})()}setInvoiceInformation(o){this.packageList.forEach(p=>{this.packageRequest.push(p.package_information)}),this.billingInformation=new x(o,this.billingsForm.controls.invoice.value,this.datepipe.transform(this.today,"yyyy-MM-dd"),this.datepipe.transform(this.today,"yyyy-MM-dd"),this.totalPayment,this.totalPayment,this.selectedShipper.code,this.selectedConsignee.code,this.selectedAgent.code,this.selectedBillTo.code,1,11,this.packageRequest,"Cash",this.billingsForm.controls.origin_destination.value.id,this.billingsForm.controls.final_destination.value.id),this.invoiceManagementService.createInvoice(this.billingInformation).subscribe(p=>{this.alertService.showToast({severity:"success",summary:"Factura y Paquetes creados correctamente.",detail:""}),this.router.navigate(["main"])},p=>{this.alertService.showToast({severity:"error",summary:"Ha ocurrido un error al generar la Factura y los Paquetes.",detail:""}),console.log(p)})}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(C._),e.Y36(s.D),e.Y36(y.d),e.Y36(A.F),e.Y36(_.uU),e.Y36(h.qu),e.Y36(F.c),e.Y36(S.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-billing-information"]],inputs:{packageList:"packageList",totalPayment:"totalPayment"},outputs:{finalizeStep:"finalizeStep",isValid:"isValid"},decls:70,vars:50,consts:[[1,"row","m-0","p-4"],[1,"pabiont-card"],[3,"headerList","dataList","canCreate"],[1,"row","m-0","text-end","payment"],[1,"col-12","px-5"],[3,"formGroup"],[1,"col-6"],[1,"pabiont-card","row","m-0","p-3"],[1,"subtitle","mb-4"],[1,"col-6","px-3"],["inputId","basic","formControlName","date","dateFormat","dd/mm/yy","appendTo","body","styleClass","w-100","placeholder","fecha",3,"showIcon","disabled","ngClass"],["type","text","pInputText","","formControlName","invoice","required","",1,"w-100",3,"ngClass","disabled"],[1,"col-6","px-3","mt-3"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","shipper","placeholder","Remitente",3,"options","ngModel","filter","showClear","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","bill_to","placeholder","Facturador",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","consignee","placeholder","Destinatario",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","agent","placeholder","Agente",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","branch","placeholder","Sucursal",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","origin_destination","placeholder","Lugar de Origen",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","final_destination","placeholder","Lugar de Destino",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","location","placeholder","Locaci\xf3n",3,"options","ngModel","filter","showClear","ngModelChange"],[4,"ngIf"],[1,"filterSubtitle"]],template:function(o,p){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-basic-table",2),e.TgZ(3,"div",3)(4,"div",4)(5,"span")(6,"strong"),e._uU(7,"Costo Total: "),e.qZA(),e._uU(8),e.qZA()()()()(),e.TgZ(9,"form",5)(10,"div",0)(11,"div",6)(12,"div",7)(13,"div",8)(14,"span"),e._uU(15,"Detalle de factura"),e.qZA()(),e.TgZ(16,"div",9)(17,"div"),e._UZ(18,"p-calendar",10),e.qZA()(),e.TgZ(19,"div",9)(20,"div"),e._UZ(21,"input",11),e.qZA()(),e.TgZ(22,"div",12)(23,"div")(24,"p-dropdown",13),e.NdJ("ngModelChange",function(f){return p.selectedShipper=f}),e.YNc(25,L,1,1,"ng-template",14),e.YNc(26,P,5,3,"ng-template",15),e.qZA()()(),e.TgZ(27,"div",12)(28,"div")(29,"p-dropdown",16),e.NdJ("ngModelChange",function(f){return p.selectedBillTo=f}),e.YNc(30,Y,1,1,"ng-template",14),e.YNc(31,O,5,3,"ng-template",15),e.qZA()()(),e.TgZ(32,"div",12)(33,"div")(34,"p-dropdown",17),e.NdJ("ngModelChange",function(f){return p.selectedConsignee=f}),e.YNc(35,ne,1,1,"ng-template",14),e.YNc(36,ue,5,3,"ng-template",15),e.qZA()()(),e.TgZ(37,"div",12)(38,"div")(39,"p-dropdown",18),e.NdJ("ngModelChange",function(f){return p.selectedAgent=f}),e.YNc(40,he,1,1,"ng-template",14),e.YNc(41,fe,5,3,"ng-template",15),e.qZA()()()()(),e.TgZ(42,"div",6)(43,"div",7)(44,"div",8)(45,"span"),e._uU(46,"Detalle de Localizaci\xf3n"),e.qZA()(),e.TgZ(47,"div",9)(48,"div"),e._UZ(49,"input",11),e.qZA()(),e.TgZ(50,"div",9)(51,"div")(52,"p-dropdown",19),e.NdJ("ngModelChange",function(f){return p.selectedBranch=f}),e.YNc(53,ge,1,1,"ng-template",14),e.YNc(54,re,5,2,"ng-template",15),e.qZA()()(),e.TgZ(55,"div",12)(56,"div")(57,"p-dropdown",20),e.NdJ("ngModelChange",function(f){return p.selectedOrigin=f}),e.YNc(58,_e,1,1,"ng-template",14),e.YNc(59,ve,5,2,"ng-template",15),e.qZA()()(),e.TgZ(60,"div",12)(61,"div")(62,"p-dropdown",21),e.NdJ("ngModelChange",function(f){return p.selectedDestination=f}),e.YNc(63,xe,1,1,"ng-template",14),e.YNc(64,we,5,2,"ng-template",15),e.qZA()()(),e.TgZ(65,"div",12)(66,"div")(67,"p-dropdown",22),e.NdJ("ngModelChange",function(f){return p.selectedLocation=f}),e.YNc(68,D,1,1,"ng-template",14),e.YNc(69,ae,5,2,"ng-template",15),e.qZA()()()()()()()),2&o&&(e.xp6(2),e.Q6J("headerList",p.page.tableConfiguration.headerList)("dataList",p.packageList)("canCreate",!0),e.xp6(6),e.Oqu(p.totalPayment),e.xp6(1),e.Q6J("formGroup",p.billingsForm),e.xp6(9),e.Q6J("showIcon",!0)("disabled",!0)("ngClass",e.VKq(44,H,p.billingsForm.controls.date.touched&&(null==p.billingsForm.controls.date.errors?null:p.billingsForm.controls.date.errors.required))),e.xp6(3),e.Q6J("ngClass",e.VKq(46,H,p.billingsForm.controls.invoice.touched&&(null==p.billingsForm.controls.invoice.errors?null:p.billingsForm.controls.invoice.errors.required)))("disabled",!0),e.xp6(3),e.Q6J("options",p.clientList)("ngModel",p.selectedShipper)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.clientList)("ngModel",p.selectedBillTo)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.clientList)("ngModel",p.selectedConsignee)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.userList)("ngModel",p.selectedAgent)("filter",!0)("showClear",!0),e.xp6(10),e.Q6J("ngClass",e.VKq(48,H,p.billingsForm.controls.invoice.touched&&(null==p.billingsForm.controls.invoice.errors?null:p.billingsForm.controls.invoice.errors.required)))("disabled",!0),e.xp6(3),e.Q6J("options",p.warehouseList)("ngModel",p.selectedBranch)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.warehouseList)("ngModel",p.selectedOrigin)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.warehouseList)("ngModel",p.selectedDestination)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.warehouseList)("ngModel",p.selectedLocation)("filter",!0)("showClear",!0))},directives:[Z.N,h._Y,h.JL,h.sg,v.f,h.JJ,h.u,_.mk,h.Fj,w.o,h.Q7,B.Lt,E.jx,_.O5],styles:[".title[_ngcontent-%COMP%]{font-weight:600;font-size:32px;line-height:27px;color:#000;margin-bottom:48px}.subtitle[_ngcontent-%COMP%]{font-weight:600;font-size:24px;line-height:27px;letter-spacing:.04em;color:#000}.pabiont-card[_ngcontent-%COMP%]{border-radius:20px;border:2px solid rgba(0,0,0,.05);box-shadow:0 4px 4px #00000040}.pabiont-card[_ngcontent-%COMP%]   .filterSubtitle[_ngcontent-%COMP%]{font-size:14;color:#00000040}.pabiont-card[_ngcontent-%COMP%]   .payment[_ngcontent-%COMP%]{border-top:1px solid #e4e4e4;font-size:18px;font-weight:600;padding:24px}  .p-dropdown{width:100%}"]}),a})();var ye=g(7815),le=g.n(ye);class X{constructor(u,o,p,m,f,$,ee,te){this.weight=u,this.high=o,this.width=p,this.long=m,this.description=f,this.bill=$,this.shipping_type=te,this.company=ee}}var se=g(135),Te=g(5522),G=g(5315);let V=(()=>{class a{constructor(o,p,m,f){this.el=o,this.ngModel=p,this.control=m,this.cd=f,this.onResize=new e.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(o){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(o){this.autoResize&&this.resize(o)}onBlur(o){this.autoResize&&this.resize(o)}resize(o){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(o||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(e.SBq),e.Y36(h.On,8),e.Y36(h.a5,8),e.Y36(e.sBO))},a.\u0275dir=e.lG2({type:a,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(o,p){1&o&&e.NdJ("input",function(f){return p.onInput(f)})("focus",function(f){return p.onFocus(f)})("blur",function(f){return p.onBlur(f)}),2&o&&e.ekj("p-filled",p.filled)("p-inputtextarea-resizable",p.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),a})(),R=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[_.ez]]}),a})();var z=g(845);function Ae(a,u){if(1&a){const o=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){return e.CHM(o),e.oxw().displayDescription=!1}),e.qZA(),e.TgZ(1,"p-button",11),e.NdJ("click",function(){e.CHM(o);const m=e.oxw(),f=e.MAs(2);return m.displayDescription=!1,m.addToList(),f.clearPackageInformation()}),e.qZA()}if(2&a){const o=e.oxw();e.xp6(1),e.Q6J("disabled",o.modalIsValid)}}const n=function(){return{width:"50vw"}};let t=(()=>{class a{constructor(o,p){this.appConfig=o,this.tableManagmentService=p,this.id=0,this.packageList=[],this.displayDescription=!1,this.description="",this.modalIsValid=!0,this.FinalizeStep=new e.vpe,this.page=this.appConfig.invoiceCreation,this.page=this.page.default}ngOnInit(){}addToList(){this.id++,this.packageRequest=new X(this.packageInformation.weight,this.packageInformation.high,this.packageInformation.width,this.packageInformation.long,this.description,0,1,this.packageInformation.type);let o=Number(this.packageInformation.high*this.packageInformation.width*this.packageInformation.long).toFixed(0);this.packageList.push({size:`${this.packageInformation.high}x${this.packageInformation.width}x${this.packageInformation.long}`,weight:this.packageInformation.weight,volume:`${o}m3`,description:this.description,price:this.packageInformation.price.toFixed(2),type:this.packageInformation.type,package_information:this.packageRequest,id:this.id}),this.description="",this.modalIsValid=!0,this.FinalizeStep.emit(this.packageList)}deleteItem(o){let p=this.packageList.indexOf(o.id);return this.packageList.splice(p,1),le()(this.packageList)}packageSize(){return le()(this.packageList)}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(C._),e.Y36(se.l))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-quote-package"]],outputs:{FinalizeStep:"FinalizeStep"},decls:10,vars:10,consts:[[1,"row"],[3,"isSelectable","isClicked"],["child",""],[1,"row","m-0","p-4"],[1,"pabiont-card"],[3,"headerList","customButtons","dataList","canCreate"],["header","Descripcion del paquete",3,"visible","visibleChange"],[1,"row","justify-content-center"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["pTemplate","footer"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text","p-button-danger",3,"click"],["icon","pi pi-check","label","Aceptar","styleClass","p-button-text",3,"disabled","click"]],template:function(o,p){1&o&&(e.TgZ(0,"div",0)(1,"app-quotes",1,2),e.NdJ("isClicked",function(f){return p.packageInformation=f,p.displayDescription=!0}),e.qZA()(),e.TgZ(3,"div",3)(4,"div",4),e._UZ(5,"app-basic-table",5),e.qZA()(),e.TgZ(6,"p-dialog",6),e.NdJ("visibleChange",function(f){return p.displayDescription=f}),e.TgZ(7,"div",7)(8,"textarea",8),e.NdJ("ngModelChange",function(f){return p.description=f})("ngModelChange",function(){return p.modalIsValid=!1}),e.qZA()(),e.YNc(9,Ae,2,1,"ng-template",9),e.qZA()),2&o&&(e.xp6(1),e.Q6J("isSelectable",!0),e.xp6(4),e.Q6J("headerList",p.page.tableConfiguration.headerList)("customButtons",p.page.tableConfiguration.customButtons)("dataList",p.packageList)("canCreate",!0),e.xp6(1),e.Akn(e.DdM(9,n)),e.Q6J("visible",p.displayDescription),e.xp6(2),e.Q6J("ngModel",p.description))},directives:[Te.z,Z.N,G.V,h.Fj,V,h.JJ,h.On,E.jx,z.Hq,z.zx],styles:[".title[_ngcontent-%COMP%]{font-weight:600;font-size:32px;line-height:27px;color:#000;margin-bottom:48px}.pabiont-card[_ngcontent-%COMP%]{border-radius:20px;border:2px solid rgba(0,0,0,.05);box-shadow:0 4px 4px #00000040}"]}),a})();function i(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.AsE(" ",o.selectedShipper.first_name," ",o.selectedShipper.last_name," ")}}function r(a,u){if(1&a&&e.YNc(0,i,3,2,"div",20),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedShipper)}}function l(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.AsE(" ",o.first_name," ",o.last_name," "),e.xp6(2),e.hij(" ",o.code," ")}}function c(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.AsE(" ",o.selectedBillTo.first_name," ",o.selectedBillTo.last_name," ")}}function d(a,u){if(1&a&&e.YNc(0,c,3,2,"div",20),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedBillTo)}}function T(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.AsE(" ",o.first_name," ",o.last_name," "),e.xp6(2),e.hij(" ",o.code," ")}}function b(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.AsE(" ",o.selectedConsignee.first_name," ",o.selectedConsignee.last_name," ")}}function M(a,u){if(1&a&&e.YNc(0,b,3,2,"div",20),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedConsignee)}}function k(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.AsE(" ",o.first_name," ",o.last_name," "),e.xp6(2),e.hij(" ",o.code," ")}}function U(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.AsE(" ",o.selectedAgent.first_name," ",o.selectedAgent.last_name," ")}}function W(a,u){if(1&a&&e.YNc(0,U,3,2,"div",20),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedAgent)}}function pe(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.AsE(" ",o.first_name," ",o.last_name," "),e.xp6(2),e.hij(" ",o.code," ")}}function ce(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.hij(" ",o.selectedBranch.description," ")}}function be(a,u){if(1&a&&e.YNc(0,ce,3,1,"div",20),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedBranch)}}function Me(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.hij(" ",o.description," "),e.xp6(2),e.hij(" ",o.code," ")}}function Ze(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.hij(" ",o.selectedOrigin.description," ")}}function Fe(a,u){if(1&a&&e.YNc(0,Ze,3,1,"div",20),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedOrigin)}}function Ee(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.hij(" ",o.description," "),e.xp6(2),e.hij(" ",o.code," ")}}function Ue(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.hij(" ",o.selectedDestination.description," ")}}function Le(a,u){if(1&a&&e.YNc(0,Ue,3,1,"div",20),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedDestination)}}function Se(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.hij(" ",o.description," "),e.xp6(2),e.hij(" ",o.code," ")}}function Ne(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&a){const o=e.oxw(2);e.xp6(2),e.hij(" ",o.selectedLocation.description," ")}}function ke(a,u){if(1&a&&e.YNc(0,Ne,3,1,"div",20),2&a){const o=e.oxw();e.Q6J("ngIf",o.selectedLocation)}}function qe(a,u){if(1&a&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&a){const o=u.$implicit;e.xp6(2),e.hij(" ",o.description," "),e.xp6(2),e.hij(" ",o.code," ")}}const Ie=function(a){return{"ng-dirty ng-invalid":a}};let Je=(()=>{class a{constructor(o,p,m,f,$){this.appConfig=o,this.formBuilder=p,this.usersManagementService=m,this.warehouseManagementService=f,this.datepipe=$,this.packageList=[],console.log("test:",this.paymentInformation),this.page=this.appConfig.invoiceCreation,this.page=this.page.default,this.resetForm(),this.getClientList(),this.getUserList(),this.getWarehouseList()}ngOnInit(){}resetForm(){this.billingsForm=this.formBuilder.group({date:["",[h.kI.required]],invoice:["",[h.kI.required]],shipper:["",[h.kI.required]],consignee:["",[h.kI.required]],agent:["",[h.kI.required]],bill_to:["",[h.kI.required]],tracking:["",[h.kI.required]],branch:["",[h.kI.required]],origin_destination:["",[h.kI.required]],final_destination:["",[h.kI.required]],location:["",[h.kI.required]]}),this.billingsForm.controls.invoice.disable()}getClientList(){var o=this;return(0,I.Z)(function*(){o.clientList=yield o.usersManagementService.getUserClient().toPromise().then(p=>p)})()}getUserList(){var o=this;return(0,I.Z)(function*(){o.userList=yield o.usersManagementService.getUserAdmin().toPromise().then(p=>p)})()}getWarehouseList(){var o=this;return(0,I.Z)(function*(){o.warehouseList=yield o.warehouseManagementService.getWarehouses().toPromise().then(p=>p),o.warehouseList=o.warehouseList.filter(p=>"Localidad"==p.type)})()}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(C._),e.Y36(h.qu),e.Y36(s.D),e.Y36(A.F),e.Y36(_.uU))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-payment-confirmation"]],inputs:{paymentInformation:"paymentInformation"},decls:58,vars:50,consts:[[3,"formGroup"],[1,"row","m-0","p-4"],[1,"col-6"],[1,"pabiont-card","row","m-0","p-3"],[1,"col-6","px-3"],["inputId","basic","formControlName","date","dateFormat","dd/mm/yy","appendTo","body","styleClass","w-100","placeholder","fecha",3,"showIcon","disabled","ngClass"],["type","text","pInputText","","formControlName","invoice","required","",1,"w-100",3,"ngClass","disabled"],[1,"col-6","px-3","mt-3"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","shipper","placeholder","Remitente",3,"options","ngModel","filter","showClear","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","bill_to","placeholder","Facturador",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","consignee","placeholder","Destinatario",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","first_name","filterBy","first_name,last_name,code","stleClass","w-100","formControlName","agent","placeholder","Agente",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","branch","placeholder","Sucursal",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","origin_destination","placeholder","Lugar de Origen",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","final_destination","placeholder","Lugar de Destino",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","description","filterBy","description,code","stleClass","w-100","formControlName","location","placeholder","Locaci\xf3n",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"pabiont-card"],[3,"headerList","customButtons","dataList","canCreate"],[4,"ngIf"],[1,"filterSubtitle"]],template:function(o,p){1&o&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div"),e._UZ(6,"p-calendar",5),e.qZA()(),e.TgZ(7,"div",4)(8,"div"),e._UZ(9,"input",6),e.qZA()(),e.TgZ(10,"div",7)(11,"div")(12,"p-dropdown",8),e.NdJ("ngModelChange",function(f){return p.selectedShipper=f}),e.YNc(13,r,1,1,"ng-template",9),e.YNc(14,l,5,3,"ng-template",10),e.qZA()()(),e.TgZ(15,"div",7)(16,"div")(17,"p-dropdown",11),e.NdJ("ngModelChange",function(f){return p.selectedBillTo=f}),e.YNc(18,d,1,1,"ng-template",9),e.YNc(19,T,5,3,"ng-template",10),e.qZA()()(),e.TgZ(20,"div",7)(21,"div")(22,"p-dropdown",12),e.NdJ("ngModelChange",function(f){return p.selectedConsignee=f}),e.YNc(23,M,1,1,"ng-template",9),e.YNc(24,k,5,3,"ng-template",10),e.qZA()()(),e.TgZ(25,"div",7)(26,"div")(27,"p-dropdown",13),e.NdJ("ngModelChange",function(f){return p.selectedAgent=f}),e.YNc(28,W,1,1,"ng-template",9),e.YNc(29,pe,5,3,"ng-template",10),e.qZA()()()()(),e.TgZ(30,"div",2)(31,"div",3)(32,"div",4)(33,"div"),e._UZ(34,"input",6),e.qZA()(),e.TgZ(35,"div",4)(36,"div")(37,"p-dropdown",14),e.NdJ("ngModelChange",function(f){return p.selectedBranch=f}),e.YNc(38,be,1,1,"ng-template",9),e.YNc(39,Me,5,2,"ng-template",10),e.qZA()()(),e.TgZ(40,"div",7)(41,"div")(42,"p-dropdown",15),e.NdJ("ngModelChange",function(f){return p.selectedOrigin=f}),e.YNc(43,Fe,1,1,"ng-template",9),e.YNc(44,Ee,5,2,"ng-template",10),e.qZA()()(),e.TgZ(45,"div",7)(46,"div")(47,"p-dropdown",16),e.NdJ("ngModelChange",function(f){return p.selectedDestination=f}),e.YNc(48,Le,1,1,"ng-template",9),e.YNc(49,Se,5,2,"ng-template",10),e.qZA()()(),e.TgZ(50,"div",7)(51,"div")(52,"p-dropdown",17),e.NdJ("ngModelChange",function(f){return p.selectedLocation=f}),e.YNc(53,ke,1,1,"ng-template",9),e.YNc(54,qe,5,2,"ng-template",10),e.qZA()()()()()()(),e.TgZ(55,"div",1)(56,"div",18),e._UZ(57,"app-basic-table",19),e.qZA()()),2&o&&(e.Q6J("formGroup",p.billingsForm),e.xp6(6),e.Q6J("showIcon",!0)("disabled",!0)("ngClass",e.VKq(44,Ie,p.billingsForm.controls.date.touched&&(null==p.billingsForm.controls.date.errors?null:p.billingsForm.controls.date.errors.required))),e.xp6(3),e.Q6J("ngClass",e.VKq(46,Ie,p.billingsForm.controls.invoice.touched&&(null==p.billingsForm.controls.invoice.errors?null:p.billingsForm.controls.invoice.errors.required)))("disabled",!0),e.xp6(3),e.Q6J("options",p.clientList)("ngModel",p.selectedShipper)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.clientList)("ngModel",p.selectedBillTo)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.clientList)("ngModel",p.selectedConsignee)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.userList)("ngModel",p.selectedAgent)("filter",!0)("showClear",!0),e.xp6(7),e.Q6J("ngClass",e.VKq(48,Ie,p.billingsForm.controls.invoice.touched&&(null==p.billingsForm.controls.invoice.errors?null:p.billingsForm.controls.invoice.errors.required)))("disabled",!0),e.xp6(3),e.Q6J("options",p.warehouseList)("ngModel",p.selectedBranch)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.warehouseList)("ngModel",p.selectedOrigin)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.warehouseList)("ngModel",p.selectedDestination)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("options",p.warehouseList)("ngModel",p.selectedLocation)("filter",!0)("showClear",!0),e.xp6(5),e.Q6J("headerList",p.page.tableConfiguration.headerList)("customButtons",p.page.tableConfiguration.customButtons)("dataList",p.packageList)("canCreate",!0))},directives:[h._Y,h.JL,h.sg,v.f,h.JJ,h.u,_.mk,h.Fj,w.o,h.Q7,B.Lt,E.jx,_.O5,Z.N],styles:[".title[_ngcontent-%COMP%]{font-weight:600;font-size:32px;line-height:27px;color:#000;margin-bottom:48px}.pabiont-card[_ngcontent-%COMP%]{border-radius:20px;border:2px solid rgba(0,0,0,.05);box-shadow:0 4px 4px #00000040}"]}),a})();function Pe(a,u){if(1&a){const o=e.EpF();e.TgZ(0,"div")(1,"app-quote-package",10,11),e.NdJ("FinalizeStep",function(m){e.CHM(o);const f=e.oxw();return f.packageList=m,f.isValid=!1}),e.qZA()()}}function Ye(a,u){if(1&a){const o=e.EpF();e.TgZ(0,"div")(1,"app-billing-information",12,11),e.NdJ("finalizeStep",function(){return e.CHM(o),e.oxw().isValid=!1})("isValid",function(m){return e.CHM(o),e.oxw().isValid=m}),e.qZA()()}if(2&a){const o=e.oxw();e.xp6(1),e.Q6J("packageList",o.packageList)("totalPayment",o.totalPayment)}}function De(a,u){if(1&a&&(e.TgZ(0,"div"),e._UZ(1,"app-payment-confirmation",13),e.qZA()),2&a){const o=e.oxw();e.xp6(1),e.Q6J("paymentInformation",o.billingInformation)}}function Re(a,u){if(1&a){const o=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){return e.CHM(o),e.oxw().displayDescription=!1}),e.qZA(),e.TgZ(1,"p-button",15),e.NdJ("click",function(){e.CHM(o);const m=e.oxw();return m.displayDescription=!1,m.nextStep(!0)}),e.qZA()}if(2&a){const o=e.oxw();e.xp6(1),e.Q6J("disabled",o.modalIsValid)}}const Qe=function(){return{width:"50vw"}},Oe=[{path:"",component:(()=>{class a{constructor(o){this.tableManagmentService=o,this.currentStep=1,this.displayDescription=!1,this.description="",this.isValid=!0,this.modalIsValid=!1,this.tableManagmentService.buttonEvent.subscribe(p=>{this.selectedButton(p)})}ngOnInit(){}nextStep(o=!1){if(o)this.billingInformationComponent.setInvoiceInformation(this.description);else switch(this.currentStep){case 1:this.totalPayment=0,this.packageList.forEach(p=>{this.totalPayment=Number(p.price)+this.totalPayment}),this.isValid=!0,this.currentStep=2;break;case 2:this.modalIsValid=!0,this.displayDescription=!0}}selectedButton(o){2===o.buttonId&&(this.child.deleteItem(o.rowData),this.isValid=0==this.child.packageSize())}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(se.l))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-billing"]],viewQuery:function(o,p){if(1&o&&(e.Gf(K,5),e.Gf(t,5)),2&o){let m;e.iGM(m=e.CRH())&&(p.billingInformationComponent=m.first),e.iGM(m=e.CRH())&&(p.child=m.first)}},decls:13,vars:9,consts:[[4,"ngIf"],[1,"row","m-0","justify-content-between"],[1,"col","d-flex","justify-content-start","px-5","mb-3"],["pButton","","pRipple","","label","Volver",1,"p-button-outlined"],[1,"col","d-flex","justify-content-end","px-5","mb-3"],["pButton","","pRipple","","label","Confirmar",1,"p-button-outlined",3,"disabled","click"],["header","Descripcion del paquete",3,"visible","visibleChange"],[1,"row","justify-content-center"],["rows","5","cols","30","pInputTextarea","",3,"ngModel","ngModelChange"],["pTemplate","footer"],[3,"FinalizeStep"],["child",""],[3,"packageList","totalPayment","finalizeStep","isValid"],[3,"paymentInformation"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text","p-button-danger",3,"click"],["icon","pi pi-check","label","Aceptar","styleClass","p-button-text",3,"disabled","click"]],template:function(o,p){1&o&&(e.TgZ(0,"div"),e.YNc(1,Pe,3,0,"div",0),e.YNc(2,Ye,3,2,"div",0),e.YNc(3,De,2,1,"div",0),e.TgZ(4,"div",1)(5,"div",2),e._UZ(6,"button",3),e.qZA(),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){return p.nextStep()}),e.qZA()()()(),e.TgZ(9,"p-dialog",6),e.NdJ("visibleChange",function(f){return p.displayDescription=f}),e.TgZ(10,"div",7)(11,"textarea",8),e.NdJ("ngModelChange",function(f){return p.description=f})("ngModelChange",function(){return p.modalIsValid=!1}),e.qZA()(),e.YNc(12,Re,2,1,"ng-template",9),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",1===p.currentStep),e.xp6(1),e.Q6J("ngIf",2===p.currentStep),e.xp6(1),e.Q6J("ngIf",3===p.currentStep),e.xp6(5),e.Q6J("disabled",p.isValid),e.xp6(1),e.Akn(e.DdM(8,Qe)),e.Q6J("visible",p.displayDescription),e.xp6(2),e.Q6J("ngModel",p.description))},directives:[_.O5,t,K,Je,z.Hq,G.V,h.Fj,V,h.JJ,h.On,E.jx,z.zx],styles:[""]}),a})()}];let ze=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[S.Bz.forChild(Oe)],S.Bz]}),a})();var je=g(8641),Ve=g(732),$e=g(4851);let He=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[_.ez,ze,je.R,Ve.T,z.hJ,w.j,G.S,h.UX,B.kW,$e.U$,h.u5,R,v._8]]}),a})()},5343:(j,q)=>{"use strict";q.byteLength=function C(v){var w=x(v),E=w[1];return 3*(w[0]+E)/4-E},q.toByteArray=function y(v){var w,Y,B=x(v),E=B[0],J=B[1],L=new S(function s(v,w,B){return 3*(w+B)/4-B}(0,E,J)),P=0,Q=J>0?E-4:E;for(Y=0;Y<Q;Y+=4)w=_[v.charCodeAt(Y)]<<18|_[v.charCodeAt(Y+1)]<<12|_[v.charCodeAt(Y+2)]<<6|_[v.charCodeAt(Y+3)],L[P++]=w>>16&255,L[P++]=w>>8&255,L[P++]=255&w;return 2===J&&(w=_[v.charCodeAt(Y)]<<2|_[v.charCodeAt(Y+1)]>>4,L[P++]=255&w),1===J&&(w=_[v.charCodeAt(Y)]<<10|_[v.charCodeAt(Y+1)]<<4|_[v.charCodeAt(Y+2)]>>2,L[P++]=w>>8&255,L[P++]=255&w),L},q.fromByteArray=function Z(v){for(var w,B=v.length,E=B%3,J=[],L=16383,P=0,Q=B-E;P<Q;P+=L)J.push(F(v,P,P+L>Q?Q:P+L));return 1===E?J.push(g[(w=v[B-1])>>2]+g[w<<4&63]+"=="):2===E&&J.push(g[(w=(v[B-2]<<8)+v[B-1])>>10]+g[w>>4&63]+g[w<<2&63]+"="),J.join("")};for(var g=[],_=[],S="undefined"!=typeof Uint8Array?Uint8Array:Array,I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,h=I.length;e<h;++e)g[e]=I[e],_[I.charCodeAt(e)]=e;function x(v){var w=v.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=v.indexOf("=");return-1===B&&(B=w),[B,B===w?0:4-B%4]}function A(v){return g[v>>18&63]+g[v>>12&63]+g[v>>6&63]+g[63&v]}function F(v,w,B){for(var J=[],L=w;L<B;L+=3)J.push(A((v[L]<<16&16711680)+(v[L+1]<<8&65280)+(255&v[L+2])));return J.join("")}_["-".charCodeAt(0)]=62,_["_".charCodeAt(0)]=63},3172:(j,q,g)=>{"use strict";var S=g(5343),I=g(8461),e="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;q.lW=s,q.h2=50;var h=2147483647;function C(n){if(n>h)throw new RangeError('The value "'+n+'" is invalid for option "size"');var t=new Uint8Array(n);return Object.setPrototypeOf(t,s.prototype),t}function s(n,t,i){if("number"==typeof n){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return Z(n)}return y(n,t,i)}function y(n,t,i){if("string"==typeof n)return function v(n,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|Q(n,t),r=C(i),l=r.write(n,t);return l!==i&&(r=r.slice(0,l)),r}(n,t);if(ArrayBuffer.isView(n))return function B(n){if(R(n,Uint8Array)){var t=new Uint8Array(n);return E(t.buffer,t.byteOffset,t.byteLength)}return w(n)}(n);if(null==n)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(R(n,ArrayBuffer)||n&&R(n.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(R(n,SharedArrayBuffer)||n&&R(n.buffer,SharedArrayBuffer)))return E(n,t,i);if("number"==typeof n)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=n.valueOf&&n.valueOf();if(null!=r&&r!==n)return s.from(r,t,i);var l=function J(n){if(s.isBuffer(n)){var t=0|L(n.length),i=C(t);return 0===i.length||n.copy(i,0,0,t),i}return void 0!==n.length?"number"!=typeof n.length||z(n.length)?C(0):w(n):"Buffer"===n.type&&Array.isArray(n.data)?w(n.data):void 0}(n);if(l)return l;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof n[Symbol.toPrimitive])return s.from(n[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}function A(n){if("number"!=typeof n)throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function Z(n){return A(n),C(n<0?0:0|L(n))}function w(n){for(var t=n.length<0?0:0|L(n.length),i=C(t),r=0;r<t;r+=1)i[r]=255&n[r];return i}function E(n,t,i){if(t<0||n.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,t):new Uint8Array(n,t,i),Object.setPrototypeOf(r,s.prototype),r}function L(n){if(n>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|n}function Q(n,t){if(s.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||R(n,ArrayBuffer))return n.byteLength;if("string"!=typeof n)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);var i=n.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var l=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return X(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return G(n).length;default:if(l)return r?-1:X(n).length;t=(""+t).toLowerCase(),l=!0}}function Y(n,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(t>>>=0))return"";for(n||(n="utf8");;)switch(n){case"hex":return xe(this,t,i);case"utf8":case"utf-8":return re(this,t,i);case"ascii":return ve(this,t,i);case"latin1":case"binary":return Ce(this,t,i);case"base64":return ge(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}function O(n,t,i){var r=n[t];n[t]=n[i],n[i]=r}function ie(n,t,i,r,l){if(0===n.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),z(i=+i)&&(i=l?0:n.length-1),i<0&&(i=n.length+i),i>=n.length){if(l)return-1;i=n.length-1}else if(i<0){if(!l)return-1;i=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:ne(n,t,i,r,l);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?l?Uint8Array.prototype.indexOf.call(n,t,i):Uint8Array.prototype.lastIndexOf.call(n,t,i):ne(n,[t],i,r,l);throw new TypeError("val must be string, number or Buffer")}function ne(n,t,i,r,l){var M,c=1,d=n.length,T=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(n.length<2||t.length<2)return-1;c=2,d/=2,T/=2,i/=2}function b(pe,ce){return 1===c?pe[ce]:pe.readUInt16BE(ce*c)}if(l){var k=-1;for(M=i;M<d;M++)if(b(n,M)===b(t,-1===k?0:M-k)){if(-1===k&&(k=M),M-k+1===T)return k*c}else-1!==k&&(M-=M-k),k=-1}else for(i+T>d&&(i=d-T),M=i;M>=0;M--){for(var U=!0,W=0;W<T;W++)if(b(n,M+W)!==b(t,W)){U=!1;break}if(U)return M}return-1}function ue(n,t,i,r){i=Number(i)||0;var l=n.length-i;r?(r=Number(r))>l&&(r=l):r=l;var c=t.length;r>c/2&&(r=c/2);for(var d=0;d<r;++d){var T=parseInt(t.substr(2*d,2),16);if(z(T))return d;n[i+d]=T}return d}function de(n,t,i,r){return V(X(t,n.length-i),n,i,r)}function he(n,t,i,r){return V(function se(n){for(var t=[],i=0;i<n.length;++i)t.push(255&n.charCodeAt(i));return t}(t),n,i,r)}function fe(n,t,i,r){return V(G(t),n,i,r)}function me(n,t,i,r){return V(function Te(n,t){for(var i,r,c=[],d=0;d<n.length&&!((t-=2)<0);++d)r=(i=n.charCodeAt(d))>>8,c.push(i%256),c.push(r);return c}(t,n.length-i),n,i,r)}function ge(n,t,i){return S.fromByteArray(0===t&&i===n.length?n:n.slice(t,i))}function re(n,t,i){i=Math.min(n.length,i);for(var r=[],l=t;l<i;){var b,M,k,U,c=n[l],d=null,T=c>239?4:c>223?3:c>191?2:1;if(l+T<=i)switch(T){case 1:c<128&&(d=c);break;case 2:128==(192&(b=n[l+1]))&&(U=(31&c)<<6|63&b)>127&&(d=U);break;case 3:M=n[l+2],128==(192&(b=n[l+1]))&&128==(192&M)&&(U=(15&c)<<12|(63&b)<<6|63&M)>2047&&(U<55296||U>57343)&&(d=U);break;case 4:M=n[l+2],k=n[l+3],128==(192&(b=n[l+1]))&&128==(192&M)&&128==(192&k)&&(U=(15&c)<<18|(63&b)<<12|(63&M)<<6|63&k)>65535&&U<1114112&&(d=U)}null===d?(d=65533,T=1):d>65535&&(r.push((d-=65536)>>>10&1023|55296),d=56320|1023&d),r.push(d),l+=T}return function _e(n){var t=n.length;if(t<=4096)return String.fromCharCode.apply(String,n);for(var i="",r=0;r<t;)i+=String.fromCharCode.apply(String,n.slice(r,r+=4096));return i}(r)}function ve(n,t,i){var r="";i=Math.min(n.length,i);for(var l=t;l<i;++l)r+=String.fromCharCode(127&n[l]);return r}function Ce(n,t,i){var r="";i=Math.min(n.length,i);for(var l=t;l<i;++l)r+=String.fromCharCode(n[l]);return r}function xe(n,t,i){var r=n.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var l="",c=t;c<i;++c)l+=Ae[n[c]];return l}function we(n,t,i){for(var r=n.slice(t,i),l="",c=0;c<r.length-1;c+=2)l+=String.fromCharCode(r[c]+256*r[c+1]);return l}function N(n,t,i){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+t>i)throw new RangeError("Trying to access beyond buffer length")}function D(n,t,i,r,l,c){if(!s.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>l||t<c)throw new RangeError('"value" argument is out of bounds');if(i+r>n.length)throw new RangeError("Index out of range")}function ae(n,t,i,r,l,c){if(i+r>n.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function H(n,t,i,r,l){return t=+t,i>>>=0,l||ae(n,0,i,4),I.write(n,t,i,r,23,4),i+4}function K(n,t,i,r,l){return t=+t,i>>>=0,l||ae(n,0,i,8),I.write(n,t,i,r,52,8),i+8}!(s.TYPED_ARRAY_SUPPORT=function x(){try{var n=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(n,t),42===n.foo()}catch(i){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(n,t,i){return y(n,t,i)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(n,t,i){return function F(n,t,i){return A(n),n<=0?C(n):void 0!==t?"string"==typeof i?C(n).fill(t,i):C(n).fill(t):C(n)}(n,t,i)},s.allocUnsafe=function(n){return Z(n)},s.allocUnsafeSlow=function(n){return Z(n)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,i){if(R(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),R(i,Uint8Array)&&(i=s.from(i,i.offset,i.byteLength)),!s.isBuffer(t)||!s.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===i)return 0;for(var r=t.length,l=i.length,c=0,d=Math.min(r,l);c<d;++c)if(t[c]!==i[c]){r=t[c],l=i[c];break}return r<l?-1:l<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,i){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===i)for(i=0,r=0;r<t.length;++r)i+=t[r].length;var l=s.allocUnsafe(i),c=0;for(r=0;r<t.length;++r){var d=t[r];if(R(d,Uint8Array))c+d.length>l.length?s.from(d).copy(l,c):Uint8Array.prototype.set.call(l,d,c);else{if(!s.isBuffer(d))throw new TypeError('"list" argument must be an Array of Buffers');d.copy(l,c)}c+=d.length}return l},s.byteLength=Q,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)O(this,i,i+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)O(this,i,i+3),O(this,i+1,i+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)O(this,i,i+7),O(this,i+1,i+6),O(this,i+2,i+5),O(this,i+3,i+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?re(this,0,t):Y.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",i=q.h2;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},e&&(s.prototype[e]=s.prototype.inspect),s.prototype.compare=function(t,i,r,l,c){if(R(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===i&&(i=0),void 0===r&&(r=t?t.length:0),void 0===l&&(l=0),void 0===c&&(c=this.length),i<0||r>t.length||l<0||c>this.length)throw new RangeError("out of range index");if(l>=c&&i>=r)return 0;if(l>=c)return-1;if(i>=r)return 1;if(this===t)return 0;for(var d=(c>>>=0)-(l>>>=0),T=(r>>>=0)-(i>>>=0),b=Math.min(d,T),M=this.slice(l,c),k=t.slice(i,r),U=0;U<b;++U)if(M[U]!==k[U]){d=M[U],T=k[U];break}return d<T?-1:T<d?1:0},s.prototype.includes=function(t,i,r){return-1!==this.indexOf(t,i,r)},s.prototype.indexOf=function(t,i,r){return ie(this,t,i,r,!0)},s.prototype.lastIndexOf=function(t,i,r){return ie(this,t,i,r,!1)},s.prototype.write=function(t,i,r,l){if(void 0===i)l="utf8",r=this.length,i=0;else if(void 0===r&&"string"==typeof i)l=i,r=this.length,i=0;else{if(!isFinite(i))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");i>>>=0,isFinite(r)?(r>>>=0,void 0===l&&(l="utf8")):(l=r,r=void 0)}var c=this.length-i;if((void 0===r||r>c)&&(r=c),t.length>0&&(r<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");for(var d=!1;;)switch(l){case"hex":return ue(this,t,i,r);case"utf8":case"utf-8":return de(this,t,i,r);case"ascii":case"latin1":case"binary":return he(this,t,i,r);case"base64":return fe(this,t,i,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,t,i,r);default:if(d)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),d=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(t,i){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(i=void 0===i?r:~~i)<0?(i+=r)<0&&(i=0):i>r&&(i=r),i<t&&(i=t);var l=this.subarray(t,i);return Object.setPrototypeOf(l,s.prototype),l},s.prototype.readUintLE=s.prototype.readUIntLE=function(t,i,r){t>>>=0,i>>>=0,r||N(t,i,this.length);for(var l=this[t],c=1,d=0;++d<i&&(c*=256);)l+=this[t+d]*c;return l},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,i,r){t>>>=0,i>>>=0,r||N(t,i,this.length);for(var l=this[t+--i],c=1;i>0&&(c*=256);)l+=this[t+--i]*c;return l},s.prototype.readUint8=s.prototype.readUInt8=function(t,i){return t>>>=0,i||N(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,i){return t>>>=0,i||N(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,i){return t>>>=0,i||N(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,i){return t>>>=0,i||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,i){return t>>>=0,i||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,i,r){t>>>=0,i>>>=0,r||N(t,i,this.length);for(var l=this[t],c=1,d=0;++d<i&&(c*=256);)l+=this[t+d]*c;return l>=(c*=128)&&(l-=Math.pow(2,8*i)),l},s.prototype.readIntBE=function(t,i,r){t>>>=0,i>>>=0,r||N(t,i,this.length);for(var l=i,c=1,d=this[t+--l];l>0&&(c*=256);)d+=this[t+--l]*c;return d>=(c*=128)&&(d-=Math.pow(2,8*i)),d},s.prototype.readInt8=function(t,i){return t>>>=0,i||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,i){t>>>=0,i||N(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,i){t>>>=0,i||N(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,i){return t>>>=0,i||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,i){return t>>>=0,i||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,i){return t>>>=0,i||N(t,4,this.length),I.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,i){return t>>>=0,i||N(t,4,this.length),I.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,i){return t>>>=0,i||N(t,8,this.length),I.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,i){return t>>>=0,i||N(t,8,this.length),I.read(this,t,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,i,r,l){t=+t,i>>>=0,r>>>=0,l||D(this,t,i,r,Math.pow(2,8*r)-1,0);var d=1,T=0;for(this[i]=255&t;++T<r&&(d*=256);)this[i+T]=t/d&255;return i+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,i,r,l){t=+t,i>>>=0,r>>>=0,l||D(this,t,i,r,Math.pow(2,8*r)-1,0);var d=r-1,T=1;for(this[i+d]=255&t;--d>=0&&(T*=256);)this[i+d]=t/T&255;return i+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,i,r){return t=+t,i>>>=0,r||D(this,t,i,1,255,0),this[i]=255&t,i+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,i,r){return t=+t,i>>>=0,r||D(this,t,i,2,65535,0),this[i]=255&t,this[i+1]=t>>>8,i+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,i,r){return t=+t,i>>>=0,r||D(this,t,i,2,65535,0),this[i]=t>>>8,this[i+1]=255&t,i+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,i,r){return t=+t,i>>>=0,r||D(this,t,i,4,4294967295,0),this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=255&t,i+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,i,r){return t=+t,i>>>=0,r||D(this,t,i,4,4294967295,0),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t,i+4},s.prototype.writeIntLE=function(t,i,r,l){if(t=+t,i>>>=0,!l){var c=Math.pow(2,8*r-1);D(this,t,i,r,c-1,-c)}var d=0,T=1,b=0;for(this[i]=255&t;++d<r&&(T*=256);)t<0&&0===b&&0!==this[i+d-1]&&(b=1),this[i+d]=(t/T>>0)-b&255;return i+r},s.prototype.writeIntBE=function(t,i,r,l){if(t=+t,i>>>=0,!l){var c=Math.pow(2,8*r-1);D(this,t,i,r,c-1,-c)}var d=r-1,T=1,b=0;for(this[i+d]=255&t;--d>=0&&(T*=256);)t<0&&0===b&&0!==this[i+d+1]&&(b=1),this[i+d]=(t/T>>0)-b&255;return i+r},s.prototype.writeInt8=function(t,i,r){return t=+t,i>>>=0,r||D(this,t,i,1,127,-128),t<0&&(t=255+t+1),this[i]=255&t,i+1},s.prototype.writeInt16LE=function(t,i,r){return t=+t,i>>>=0,r||D(this,t,i,2,32767,-32768),this[i]=255&t,this[i+1]=t>>>8,i+2},s.prototype.writeInt16BE=function(t,i,r){return t=+t,i>>>=0,r||D(this,t,i,2,32767,-32768),this[i]=t>>>8,this[i+1]=255&t,i+2},s.prototype.writeInt32LE=function(t,i,r){return t=+t,i>>>=0,r||D(this,t,i,4,2147483647,-2147483648),this[i]=255&t,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24,i+4},s.prototype.writeInt32BE=function(t,i,r){return t=+t,i>>>=0,r||D(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=255&t,i+4},s.prototype.writeFloatLE=function(t,i,r){return H(this,t,i,!0,r)},s.prototype.writeFloatBE=function(t,i,r){return H(this,t,i,!1,r)},s.prototype.writeDoubleLE=function(t,i,r){return K(this,t,i,!0,r)},s.prototype.writeDoubleBE=function(t,i,r){return K(this,t,i,!1,r)},s.prototype.copy=function(t,i,r,l){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),!l&&0!==l&&(l=this.length),i>=t.length&&(i=t.length),i||(i=0),l>0&&l<r&&(l=r),l===r||0===t.length||0===this.length)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),t.length-i<l-r&&(l=t.length-i+r);var c=l-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(i,r,l):Uint8Array.prototype.set.call(t,this.subarray(r,l),i),c},s.prototype.fill=function(t,i,r,l){if("string"==typeof t){if("string"==typeof i?(l=i,i=0,r=this.length):"string"==typeof r&&(l=r,r=this.length),void 0!==l&&"string"!=typeof l)throw new TypeError("encoding must be a string");if("string"==typeof l&&!s.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(1===t.length){var c=t.charCodeAt(0);("utf8"===l&&c<128||"latin1"===l)&&(t=c)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(i<0||this.length<i||this.length<r)throw new RangeError("Out of range index");if(r<=i)return this;var d;if(i>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(d=i;d<r;++d)this[d]=t;else{var T=s.isBuffer(t)?t:s.from(t,l),b=T.length;if(0===b)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(d=0;d<r-i;++d)this[d+i]=T[d%b]}return this};var ye=/[^+/0-9A-Za-z-_]/g;function X(n,t){t=t||1/0;for(var i,r=n.length,l=null,c=[],d=0;d<r;++d){if((i=n.charCodeAt(d))>55295&&i<57344){if(!l){if(i>56319){(t-=3)>-1&&c.push(239,191,189);continue}if(d+1===r){(t-=3)>-1&&c.push(239,191,189);continue}l=i;continue}if(i<56320){(t-=3)>-1&&c.push(239,191,189),l=i;continue}i=65536+(l-55296<<10|i-56320)}else l&&(t-=3)>-1&&c.push(239,191,189);if(l=null,i<128){if((t-=1)<0)break;c.push(i)}else if(i<2048){if((t-=2)<0)break;c.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;c.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;c.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return c}function G(n){return S.toByteArray(function le(n){if((n=(n=n.split("=")[0]).trim().replace(ye,"")).length<2)return"";for(;n.length%4!=0;)n+="=";return n}(n))}function V(n,t,i,r){for(var l=0;l<r&&!(l+i>=t.length||l>=n.length);++l)t[l+i]=n[l];return l}function R(n,t){return n instanceof t||null!=n&&null!=n.constructor&&null!=n.constructor.name&&n.constructor.name===t.name}function z(n){return n!=n}var Ae=function(){for(var n="0123456789abcdef",t=new Array(256),i=0;i<16;++i)for(var r=16*i,l=0;l<16;++l)t[r+l]=n[i]+n[l];return t}()},8461:(j,q)=>{q.read=function(g,_,S,I,e){var h,x,C=8*e-I-1,s=(1<<C)-1,y=s>>1,A=-7,F=S?e-1:0,Z=S?-1:1,v=g[_+F];for(F+=Z,h=v&(1<<-A)-1,v>>=-A,A+=C;A>0;h=256*h+g[_+F],F+=Z,A-=8);for(x=h&(1<<-A)-1,h>>=-A,A+=I;A>0;x=256*x+g[_+F],F+=Z,A-=8);if(0===h)h=1-y;else{if(h===s)return x?NaN:1/0*(v?-1:1);x+=Math.pow(2,I),h-=y}return(v?-1:1)*x*Math.pow(2,h-I)},q.write=function(g,_,S,I,e,h){var x,C,s,y=8*h-e-1,A=(1<<y)-1,F=A>>1,Z=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,v=I?0:h-1,w=I?1:-1,B=_<0||0===_&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(C=isNaN(_)?1:0,x=A):(x=Math.floor(Math.log(_)/Math.LN2),_*(s=Math.pow(2,-x))<1&&(x--,s*=2),(_+=x+F>=1?Z/s:Z*Math.pow(2,1-F))*s>=2&&(x++,s/=2),x+F>=A?(C=0,x=A):x+F>=1?(C=(_*s-1)*Math.pow(2,e),x+=F):(C=_*Math.pow(2,F-1)*Math.pow(2,e),x=0));e>=8;g[S+v]=255&C,v+=w,C/=256,e-=8);for(x=x<<e|C,y+=e;y>0;g[S+v]=255&x,v+=w,x/=256,y-=8);g[S+v-w]|=128*B}},685:j=>{j.exports={STRING:2,BOOLEAN:4,NUMBER:8}},7815:(j,q,g)=>{"use strict";var _=g(685),S=g(3172).lW;function h(C){return function(y){if(S.isBuffer(y))return y.length;switch(typeof y){case"string":return y.length*_.STRING;case"boolean":return _.BOOLEAN;case"number":return _.NUMBER;case"symbol":return Symbol.keyFor&&Symbol.keyFor(y)?Symbol.keyFor(y).length*_.STRING:(y.toString().length-8)*_.STRING;case"object":return Array.isArray(y)?y.map(h(C)).reduce(function(Z,v){return Z+v},0):function e(C,s){if(null==s)return 0;for(var y=0,A=function I(C){const s=[];for(var y in C)s.push(y);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(C);Array.prototype.push.apply(s,A)}return s}(s),F=0;F<A.length;F++){var Z=A[F];if("object"==typeof s[Z]&&null!==s[Z]){if(C.has(s[Z]))continue;C.add(s[Z])}y+=h(C)(Z);try{y+=h(C)(s[Z])}catch(v){v instanceof RangeError&&(y=0)}}return y}(C,y);default:return 0}}}j.exports=function x(C){return h(new WeakSet)(C)}}}]);